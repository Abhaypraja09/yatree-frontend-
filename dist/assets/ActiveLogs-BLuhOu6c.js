import{b as r,j as e,m as n,T as m,Q as G,O as Z,I as Q,_ as X,M as y,H as z,J as W,C as K,s as T,Z as A}from"./vendor-CCQY6jT8.js";import{b as ee,i as p}from"./index-aG9LDhtf.js";import{S as te}from"./SEO-DDwZsfBo.js";const re=()=>{const{selectedCompany:l}=ee(),[E,B]=r.useState([]),[j,D]=r.useState([]),[L,P]=r.useState([]),[_,v]=r.useState(!0),[O,h]=r.useState(!1),[x,F]=r.useState(""),[g,H]=r.useState("All"),[u,$]=r.useState("All"),[S,b]=r.useState(null),w=()=>{const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},[s,o]=r.useState({vehicleId:"",driverId:"",date:w(),location:"",description:"",amount:"",status:"Pending"}),[V,I]=r.useState([]),[C,k]=r.useState(!1);r.useEffect(()=>{l&&(f(),Y())},[l]);const f=async()=>{if(l?._id){v(!0);try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:i}=await p.get(`/api/admin/accident-logs/${l._id}`,{headers:{Authorization:`Bearer ${t.token}`}});B(i||[])}catch(t){console.error(t)}finally{v(!1)}}},Y=async()=>{if(l?._id)try{const t=JSON.parse(localStorage.getItem("userInfo")),[i,a]=await Promise.all([p.get(`/api/admin/vehicles/${l._id}?usePagination=false&type=fleet`,{headers:{Authorization:`Bearer ${t.token}`}}),p.get(`/api/admin/drivers/${l._id}?usePagination=false&isFreelancer=false`,{headers:{Authorization:`Bearer ${t.token}`}})]);D(i.data.vehicles||[]),P(a.data.drivers||[])}catch(t){console.error(t)}},M=async t=>{t.preventDefault(),k(!0);try{const i=new FormData;Object.keys(s).forEach(d=>i.append(d,s[d])),i.append("companyId",l._id),Array.from(V).forEach(d=>{i.append("photos",d)});const a=JSON.parse(localStorage.getItem("userInfo"));await p.post("/api/admin/accident-logs",i,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${a.token}`}}),h(!1),U(),f(),alert("Incident report logged successfully")}catch(i){console.error(i),alert("Failed to log incident")}finally{k(!1)}},N=async t=>{if(window.confirm("Are you sure you want to delete this log?"))try{const i=JSON.parse(localStorage.getItem("userInfo"));await p.delete(`/api/admin/accident-logs/${t}`,{headers:{Authorization:`Bearer ${i.token}`}}),f()}catch(i){console.error(i)}},U=()=>{o({vehicleId:"",driverId:"",date:w(),location:"",description:"",amount:"",status:"Pending"}),I([])},c=E.filter(t=>{const i=t.vehicle?.carNumber?.toLowerCase().includes(x.toLowerCase())||t.driver?.name?.toLowerCase().includes(x.toLowerCase())||t.description?.toLowerCase().includes(x.toLowerCase()),a=g==="All"||t.status===g,d=u==="All"||t.vehicle?._id===u;return i&&a&&d}),q=c.reduce((t,i)=>t+(Number(i.amount)||0),0),J=c.filter(t=>t.status==="Resolved").length,R=({status:t})=>{const a=(()=>{switch(t){case"Resolved":return{bg:"rgba(16, 185, 129, 0.1)",color:"#10b981",border:"rgba(16, 185, 129, 0.2)"};case"In Repair":return{bg:"rgba(56, 189, 248, 0.1)",color:"#38bdf8",border:"rgba(56, 189, 248, 0.2)"};default:return{bg:"rgba(245, 158, 11, 0.1)",color:"#f59e0b",border:"rgba(245, 158, 11, 0.2)"}}})();return e.jsxs("span",{style:{fontSize:"10px",backgroundColor:a.bg,color:a.color,border:`1px solid ${a.border}`,padding:"4px 10px",borderRadius:"8px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"0.5px",display:"inline-flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{width:"5px",height:"5px",borderRadius:"50%",background:a.color}}),t]})};return e.jsxs("div",{className:"container-fluid",style:{paddingBottom:"60px",paddingTop:"20px"},children:[e.jsx(te,{title:"Active Incident Logs",description:"Track and manage vehicle accidents and incidents with precision."}),e.jsxs("header",{style:{marginBottom:"40px"},children:[e.jsxs("div",{className:"flex-resp",style:{justifyContent:"space-between",alignItems:"flex-start",gap:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px"},children:[e.jsx(n.div,{initial:{rotate:-10,scale:.9},animate:{rotate:0,scale:1},style:{width:"60px",height:"60px",background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",borderRadius:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 10px 30px rgba(251, 191, 36, 0.3)",flexShrink:0},children:e.jsx(m,{size:32,color:"#0f172a"})}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#fbbf24",boxShadow:"0 0 10px #fbbf24"}}),e.jsx("span",{style:{fontSize:"11px",fontWeight:"800",color:"rgba(255,255,255,0.5)",letterSpacing:"1.5px",textTransform:"uppercase"},children:"Safety & Compliance"})]}),e.jsxs("h1",{style:{color:"white",fontSize:"clamp(28px, 5vw, 36px)",fontWeight:"900",margin:0,letterSpacing:"-1.5px"},children:["Active ",e.jsx("span",{className:"text-gradient-yellow",children:"Incident Logs"})]})]})]}),e.jsx("div",{className:"flex-resp",style:{gap:"12px"},children:e.jsxs("button",{className:"btn-primary",onClick:()=>h(!0),style:{display:"flex",alignItems:"center",gap:"10px",height:"54px",padding:"0 28px",borderRadius:"16px",fontWeight:"900",fontSize:"14px",letterSpacing:"0.5px"},children:[e.jsx(G,{size:22,strokeWidth:3}),e.jsx("span",{children:"NEW INCIDENT"})]})})]}),e.jsxs("div",{className:"flex-resp",style:{marginTop:"35px",gap:"15px"},children:[e.jsxs("div",{style:{position:"relative",flex:"1",minWidth:"min(100%, 350px)"},children:[e.jsx(Z,{size:20,style:{position:"absolute",left:"20px",top:"50%",transform:"translateY(-50%)",color:"rgba(255,255,255,0.3)"}}),e.jsx("input",{type:"text",placeholder:"Search vehicle number, driver name, or description...",value:x,onChange:t=>F(t.target.value),className:"input-field",style:{paddingLeft:"55px",height:"54px",borderRadius:"18px",fontSize:"15px"}})]}),e.jsxs("div",{className:"glass-card",style:{padding:"4px",borderRadius:"20px",display:"flex",gap:"4px",background:"rgba(255,255,255,0.03)"},children:[e.jsxs("select",{value:u,onChange:t=>$(t.target.value),className:"input-field",style:{height:"46px",border:"none",background:"transparent",width:"160px",fontWeight:"700",fontSize:"13px"},children:[e.jsx("option",{value:"All",style:{background:"#0f172a"},children:"All Vehicles"}),j.map(t=>e.jsx("option",{value:t._id,style:{background:"#0f172a"},children:t.carNumber},t._id))]}),e.jsx("div",{style:{width:"1px",background:"rgba(255,255,255,0.1)",margin:"8px 4px"}}),e.jsxs("select",{value:g,onChange:t=>H(t.target.value),className:"input-field",style:{height:"46px",border:"none",background:"transparent",width:"140px",fontWeight:"700",fontSize:"13px"},children:[e.jsx("option",{value:"All",style:{background:"#0f172a"},children:"All Status"}),e.jsx("option",{value:"Pending",style:{background:"#0f172a"},children:"Pending"}),e.jsx("option",{value:"In Repair",style:{background:"#0f172a"},children:"In Repair"}),e.jsx("option",{value:"Resolved",style:{background:"#0f172a"},children:"Resolved"})]})]})]})]}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:"40px",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))"},children:[e.jsxs(n.div,{whileHover:{translateY:-5},className:"glass-card",style:{background:"linear-gradient(145deg, rgba(244, 63, 94, 0.08), rgba(244, 63, 94, 0.02))",borderColor:"rgba(244, 63, 94, 0.15)",padding:"25px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[e.jsx("div",{style:{padding:"10px",background:"rgba(244, 63, 94, 0.1)",borderRadius:"12px",color:"#f43f5e"},children:e.jsx(m,{size:20})}),e.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#f43f5e",letterSpacing:"1px"},children:"INCIDENTS"})]}),e.jsx("h2",{style:{fontSize:"32px",fontWeight:"900",color:"white",margin:0},children:c.length}),e.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)",marginTop:"5px",fontWeight:"600"},children:"Active reports recorded"})]}),e.jsxs(n.div,{whileHover:{translateY:-5},className:"glass-card",style:{background:"linear-gradient(145deg, rgba(251, 191, 36, 0.08), rgba(251, 191, 36, 0.02))",borderColor:"rgba(251, 191, 36, 0.15)",padding:"25px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[e.jsx("div",{style:{padding:"10px",background:"rgba(251, 191, 36, 0.1)",borderRadius:"12px",color:"#fbbf24"},children:e.jsx(Q,{size:20})}),e.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#fbbf24",letterSpacing:"1px"},children:"EST. COST"})]}),e.jsxs("h2",{style:{fontSize:"32px",fontWeight:"900",color:"white",margin:0},children:["₹",q.toLocaleString()]}),e.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)",marginTop:"5px",fontWeight:"600"},children:"Projected financial impact"})]}),e.jsxs(n.div,{whileHover:{translateY:-5},className:"glass-card",style:{background:"linear-gradient(145deg, rgba(16, 185, 129, 0.08), rgba(16, 185, 129, 0.02))",borderColor:"rgba(16, 185, 129, 0.15)",padding:"25px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[e.jsx("div",{style:{padding:"10px",background:"rgba(16, 185, 129, 0.1)",borderRadius:"12px",color:"#10b981"},children:e.jsx(X,{size:20})}),e.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#10b981",letterSpacing:"1px"},children:"RESOLVED"})]}),e.jsx("h2",{style:{fontSize:"32px",fontWeight:"900",color:"white",margin:0},children:J}),e.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)",marginTop:"5px",fontWeight:"600"},children:"Closed incident cases"})]})]}),_?e.jsxs("div",{style:{padding:"100px",textAlign:"center"},children:[e.jsx("div",{className:"spinner",style:{margin:"0 auto",width:"40px",height:"40px"}}),e.jsx("p",{style:{color:"var(--text-muted)",marginTop:"20px",fontSize:"14px",fontWeight:"700",letterSpacing:"1px"},children:"RETRIEVING SECURE DATA..."})]}):c.length===0?e.jsxs("div",{className:"glass-card",style:{padding:"80px 40px",textAlign:"center",borderStyle:"dashed",borderWidth:"2px",background:"rgba(255,255,255,0.01)"},children:[e.jsx("div",{style:{width:"80px",height:"80px",background:"rgba(255,255,255,0.03)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 25px"},children:e.jsx(m,{size:40,style:{color:"rgba(255,255,255,0.1)"}})}),e.jsx("h3",{style:{color:"white",fontSize:"20px",fontWeight:"800"},children:"No incidents recorded"}),e.jsx("p",{style:{color:"var(--text-muted)",maxWidth:"400px",margin:"10px auto 0",lineHeight:"1.6"},children:'The fleet is currently operating within safety parameters. Use the "New Incident" button if an event occurs.'})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"glass-card hide-mobile",style:{padding:"10px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(15, 23, 42, 0.4)"},children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"activity-table",style:{width:"100%",borderCollapse:"separate",borderSpacing:"0 8px"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"20px 25px"},children:"Incident Details"}),e.jsx("th",{children:"Personnel"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Impact Cost"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Evidence"}),e.jsx("th",{style:{textAlign:"right",paddingRight:"25px"},children:"Action"})]})}),e.jsx("tbody",{children:c.map((t,i)=>e.jsxs(n.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:i*.05},className:"hover-row",style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"12px"},children:[e.jsxs("td",{style:{padding:"20px 25px",borderTopLeftRadius:"12px",borderBottomLeftRadius:"12px"},children:[e.jsx("div",{style:{color:"white",fontWeight:"800",fontSize:"14px"},children:new Date(t.date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}),e.jsxs("div",{style:{color:"rgba(251, 191, 36, 0.7)",fontSize:"11px",marginTop:"6px",display:"flex",alignItems:"center",gap:"5px",fontWeight:"700"},children:[e.jsx(y,{size:12})," ",t.location||"Not Specified"]})]}),e.jsx("td",{style:{padding:"20px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fbbf24",fontWeight:"800",fontSize:"13px"},children:t.vehicle?.carNumber?.slice(-2)}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"white",fontWeight:"700",fontSize:"13px"},children:t.vehicle?.carNumber}),e.jsx("div",{style:{color:"var(--text-muted)",fontSize:"11px"},children:t.driver?.name})]})]})}),e.jsx("td",{style:{padding:"20px",maxWidth:"300px"},children:e.jsx("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"13px",lineHeight:"1.5",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.description})}),e.jsx("td",{style:{padding:"20px"},children:e.jsxs("div",{style:{color:"#f43f5e",fontWeight:"900",fontSize:"15px"},children:["₹",Number(t.amount||0).toLocaleString()]})}),e.jsx("td",{style:{padding:"20px"},children:e.jsx(R,{status:t.status})}),e.jsx("td",{style:{padding:"20px"},children:t.photos&&t.photos.length>0?e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.photos.slice(0,3).map((a,d)=>e.jsx(n.div,{whileHover:{scale:1.1},style:{position:"relative",cursor:"pointer"},onClick:()=>b(a),children:e.jsx("img",{src:a,style:{width:"38px",height:"38px",borderRadius:"10px",objectFit:"cover",border:"1px solid rgba(255,255,255,0.1)"},alt:"evidence"})},d)),t.photos.length>3&&e.jsxs("div",{style:{width:"38px",height:"38px",borderRadius:"10px",background:"rgba(255,255,255,0.05)",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"11px",color:"white",fontWeight:"800"},children:["+",t.photos.length-3]})]}):e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",color:"rgba(255,255,255,0.2)",fontSize:"11px",fontWeight:"600"},children:[e.jsx(z,{size:14})," NO EVIDENCE"]})}),e.jsx("td",{style:{padding:"20px 25px",textAlign:"right",borderTopRightRadius:"12px",borderBottomRightRadius:"12px"},children:e.jsx("button",{onClick:()=>N(t._id),style:{background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",border:"1px solid rgba(244, 63, 94, 0.2)",width:"36px",height:"36px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",transition:"0.2s"},children:e.jsx(W,{size:16})})})]},t._id))})]})})}),e.jsx("div",{className:"show-mobile",children:e.jsx("div",{style:{display:"grid",gap:"20px"},children:c.map(t=>e.jsxs(n.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},className:"glass-card",style:{padding:"20px",background:"rgba(30, 41, 59, 0.6)",borderRadius:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"18px"},children:[e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[e.jsx("div",{style:{width:"40px",height:"40px",background:"rgba(251, 191, 36, 0.1)",borderRadius:"12px",display:"flex",justifyContent:"center",alignItems:"center",color:"#fbbf24"},children:e.jsx(K,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"900",color:"white",fontSize:"15px"},children:t.vehicle?.carNumber||"N/A"}),e.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600"},children:t.driver?.name||"Unknown Driver"})]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{color:"#f43f5e",fontWeight:"900",fontSize:"18px"},children:["₹",Number(t.amount||0).toLocaleString()]}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",marginTop:"2px",fontWeight:"700"},children:new Date(t.date).toLocaleDateString()})]})]}),e.jsxs("div",{style:{background:"rgba(0,0,0,0.25)",padding:"15px",borderRadius:"14px",marginBottom:"18px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"10px"},children:[e.jsx(R,{status:t.status}),e.jsx("div",{style:{width:"1px",height:"12px",background:"rgba(255,255,255,0.1)",margin:"0 5px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"11px",color:"#fbbf24",fontWeight:"700"},children:[e.jsx(y,{size:12})," ",t.location||"Unknown Loc"]})]}),e.jsx("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"13px",lineHeight:"1.6",margin:0},children:t.description})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"15px"},children:[e.jsx("div",{style:{display:"flex",gap:"8px"},children:t.photos&&t.photos.slice(0,4).map((i,a)=>e.jsx("img",{src:i,onClick:()=>b(i),style:{width:"44px",height:"44px",borderRadius:"12px",objectFit:"cover",border:"2px solid rgba(255,255,255,0.08)"},alt:"evidence"},a))}),e.jsx("button",{onClick:()=>N(t._id),style:{background:"rgba(244, 63, 94, 0.12)",color:"#f43f5e",width:"40px",height:"40px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid rgba(244, 63, 94, 0.1)"},children:e.jsx(W,{size:18})})]})]},t._id))})})]}),e.jsx(T,{children:O&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:2e3,background:"rgba(0,0,0,0.9)",backdropFilter:"blur(10px)",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:e.jsxs(n.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"glass-card modal-content",style:{maxWidth:"640px",width:"100%",maxHeight:"90vh",padding:"40px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"28px",border:"1px solid rgba(255,255,255,0.12)",boxShadow:"0 30px 60px rgba(0,0,0,0.6)"},children:[e.jsxs("div",{className:"modal-header",style:{marginBottom:"35px",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"28px",fontWeight:"900",color:"white",margin:0,letterSpacing:"-1px"},children:"New Incident Report"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"14px",marginTop:"6px",fontWeight:"600"},children:"Comprehensive documentation for safety auditing."})]}),e.jsx("button",{onClick:()=>h(!1),style:{background:"rgba(255,255,255,0.05)",borderRadius:"12px",padding:"8px",color:"white"},children:e.jsx(A,{size:24})})]}),e.jsx("form",{onSubmit:M,children:e.jsxs("div",{style:{display:"grid",gap:"25px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",style:{marginBottom:"10px",display:"block"},children:"Vehicle Identification"}),e.jsxs("select",{className:"input-field",style:{height:"54px",borderRadius:"15px"},value:s.vehicleId,onChange:t=>o({...s,vehicleId:t.target.value}),required:!0,children:[e.jsx("option",{value:"",style:{background:"#0f172a"},children:"Select Vehicle"}),j.map(t=>e.jsxs("option",{value:t._id,style:{background:"#0f172a"},children:[t.carNumber," (",t.model,")"]},t._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",style:{marginBottom:"10px",display:"block"},children:"Personnel In-Charge"}),e.jsxs("select",{className:"input-field",style:{height:"54px",borderRadius:"15px"},value:s.driverId,onChange:t=>o({...s,driverId:t.target.value}),required:!0,children:[e.jsx("option",{value:"",style:{background:"#0f172a"},children:"Select Driver"}),L.map(t=>e.jsx("option",{value:t._id,style:{background:"#0f172a"},children:t.name},t._id))]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",style:{marginBottom:"10px",display:"block"},children:"Incident Date"}),e.jsx("input",{type:"date",className:"input-field",style:{height:"54px",borderRadius:"15px"},value:s.date,onChange:t=>o({...s,date:t.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",style:{marginBottom:"10px",display:"block"},children:"Estimated Recovery Cost"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("span",{style:{position:"absolute",left:"18px",top:"50%",transform:"translateY(-50%)",color:"#fbbf24",fontWeight:"900",fontSize:"15px"},children:"₹"}),e.jsx("input",{type:"number",className:"input-field",style:{height:"54px",borderRadius:"15px",paddingLeft:"35px"},value:s.amount,onChange:t=>o({...s,amount:t.target.value}),placeholder:"0.00"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",style:{marginBottom:"10px",display:"block"},children:"Precise Location"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(y,{size:18,style:{position:"absolute",left:"18px",top:"50%",transform:"translateY(-50%)",color:"rgba(255,255,255,0.3)"}}),e.jsx("input",{type:"text",className:"input-field",style:{height:"54px",borderRadius:"15px",paddingLeft:"50px"},value:s.location,onChange:t=>o({...s,location:t.target.value}),placeholder:"e.g. NH-44, Near Toll Plaza",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",style:{marginBottom:"10px",display:"block"},children:"Incident Narrative / Damage Details"}),e.jsx("textarea",{className:"input-field",style:{minHeight:"100px",resize:"vertical",borderRadius:"15px",paddingTop:"15px"},value:s.description,onChange:t=>o({...s,description:t.target.value}),placeholder:"Provide a detailed description of the event and visible damages...",required:!0})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",style:{marginBottom:"10px",display:"block"},children:"Upload Evidence (Photos)"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"file",multiple:!0,onChange:t=>I(t.target.files),className:"input-field",style:{height:"54px",borderRadius:"15px",paddingTop:"15px",cursor:"pointer"}}),e.jsx(z,{size:20,style:{position:"absolute",right:"18px",top:"50%",transform:"translateY(-50%)",color:"#fbbf24"}})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",style:{marginBottom:"10px",display:"block"},children:"Process Status"}),e.jsxs("select",{className:"input-field",style:{height:"54px",borderRadius:"15px",fontWeight:"700"},value:s.status,onChange:t=>o({...s,status:t.target.value}),children:[e.jsx("option",{value:"Pending",style:{background:"#0f172a"},children:"Pending Review"}),e.jsx("option",{value:"In Repair",style:{background:"#0f172a"},children:"In Repair Process"}),e.jsx("option",{value:"Resolved",style:{background:"#0f172a"},children:"Resolved / Closed"})]})]})]}),e.jsx("button",{type:"submit",disabled:C,className:"btn-primary",style:{width:"100%",height:"60px",borderRadius:"18px",fontSize:"16px",fontWeight:"900",letterSpacing:"1px",marginTop:"10px",textTransform:"uppercase"},children:C?"PROCESSING SECURE RECORD...":"SUBMIT AUTHORIZED INCIDENT REPORT"})]})})]})})}),e.jsx(T,{children:S&&e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>b(null),style:{position:"fixed",inset:0,zIndex:3e3,background:"rgba(0,0,0,0.96)",backdropFilter:"blur(15px)",display:"flex",justifyContent:"center",alignItems:"center",cursor:"zoom-out",padding:"40px"},children:[e.jsx(n.img,{initial:{scale:.9,rotate:-2},animate:{scale:1,rotate:0},src:S,style:{maxWidth:"100%",maxHeight:"85vh",borderRadius:"24px",boxShadow:"0 40px 100px rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)"},alt:"Incident Evidence"}),e.jsx("div",{style:{position:"absolute",top:"30px",right:"30px",background:"rgba(255,255,255,0.1)",color:"white",borderRadius:"50%",padding:"10px"},children:e.jsx(A,{size:32})})]})})]})};export{re as default};
