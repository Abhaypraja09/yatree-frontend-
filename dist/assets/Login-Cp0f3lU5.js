import{b as a,u as f,j as e,m as h,k as v,P as j,l as b}from"./vendor-CCQY6jT8.js";import{u as S}from"./index-BxPUw-pY.js";import{S as w}from"./SEO-Dsg_dB_2.js";const B=()=>{const[o,p]=a.useState(""),[r,x]=a.useState(""),[n,l]=a.useState(""),[d,c]=a.useState(!1),{login:m}=S(),i=f(),g=async s=>{s.preventDefault(),l(""),c(!0);try{const t=await m(o,r);t.role==="Admin"?i("/admin"):t.role==="Executive"?i("/admin/freelancers"):t.role==="Staff"?i("/staff"):i("/driver")}catch(t){console.error("Login Error Object:",t);const u=t.response?.data?.message||t.message||"Invalid credentials",y=t.response?.data?.error?` (${t.response.data.error})`:"";l(u+y)}finally{c(!1)}};return e.jsxs("div",{className:"login-container",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px"},children:[e.jsx(w,{title:"Admin Login",description:"Access the FleetCRM Management Portal to manage your taxi fleet and drivers."}),e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card",style:{width:"100%",maxWidth:"400px",padding:"40px",textAlign:"center"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"30px"},children:[e.jsx("img",{src:"/logos/logo.png",alt:"Yatree Destination",style:{width:"120px",height:"auto",marginBottom:"20px"}}),e.jsx("h1",{style:{fontSize:"24px",fontWeight:"700",color:"white"},children:"Yatree Destination"}),e.jsx("p",{style:{color:"var(--text-muted)",marginTop:"5px"},children:"Management Portal"})]}),n&&e.jsxs("div",{style:{background:"rgba(244, 63, 94, 0.1)",border:"1px solid var(--accent)",color:"var(--accent)",padding:"10px",borderRadius:"8px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px",fontSize:"14px"},children:[e.jsx(v,{size:16}),n]}),e.jsxs("form",{onSubmit:g,style:{textAlign:"left"},children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",fontSize:"14px",marginBottom:"8px",color:"var(--text-muted)"},children:"Username or Mobile"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(j,{size:18,style:{position:"absolute",left:"12px",top:"14px",color:"var(--text-muted)"}}),e.jsx("input",{type:"text",className:"input-field",style:{paddingLeft:"40px"},placeholder:"Username or Mobile",value:o,onChange:s=>p(s.target.value),required:!0})]})]}),e.jsxs("div",{style:{marginBottom:"25px"},children:[e.jsx("label",{style:{display:"block",fontSize:"14px",marginBottom:"8px",color:"var(--text-muted)"},children:"Password"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(b,{size:18,style:{position:"absolute",left:"12px",top:"14px",color:"var(--text-muted)"}}),e.jsx("input",{type:"password",className:"input-field",style:{paddingLeft:"40px"},placeholder:"••••••••",value:r,onChange:s=>x(s.target.value),required:!0})]})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%"},disabled:d,children:d?"Signing In...":"Sign In"})]})]})]})};export{B as default};
