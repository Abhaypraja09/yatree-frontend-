const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/xlsx.min-q5GPDRXn.js","assets/vendor-CCQY6jT8.js","assets/excel-CY_lV9AF.js"])))=>i.map(i=>d[i]);
import{b as ae,i as C,_ as oe}from"./index-DswTxbm0.js";import{b as c,j as e,C as W,m as w,O as L,a7 as se,Q as ne,J as F,s as le,X as de}from"./vendor-CCQY6jT8.js";import{S as pe}from"./SEO-CjuU2MAi.js";const ue=()=>{const{selectedCompany:y}=ae(),[g,P]=c.useState([]),[R,I]=c.useState(!0),[b,$]=c.useState(""),[h,M]=c.useState("All"),[f,B]=c.useState("All"),k=()=>new Date().toISOString().split("T")[0],V=()=>{const t=new Date;return t.setDate(t.getDate()-180),t.toISOString().split("T")[0]},[S,J]=c.useState(V()),[v,q]=c.useState(k()),[X,N]=c.useState(!1),[j,z]=c.useState(!1),[T,A]=c.useState(null),[o,d]=c.useState({carNumber:"",model:"",property:"",dutyType:"",ownerName:"",dutyAmount:"",dropLocation:"",date:k()});c.useEffect(()=>{y&&D()},[y]);const D=async()=>{if(y?._id){I(!0);try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:r}=await C.get(`/api/admin/vehicles/${y._id}?usePagination=false&type=outside`,{headers:{Authorization:`Bearer ${t.token}`}});P(r.vehicles?.filter(a=>a.isOutsideCar)||[])}catch(t){console.error(t)}finally{I(!1)}}},G=t=>{M(t),B("All")},U=()=>{z(!1),A(null),d({carNumber:"",model:"",property:f!=="All"?f:"",dutyType:"",ownerName:h!=="All"?h:"",dutyAmount:"",dropLocation:"",date:k(),isDuplicateToday:!1}),N(!0)},Y=t=>{const r=t.toUpperCase(),a=g.find(i=>i.carNumber?.split("#")[0]===r);d(a?i=>({...i,carNumber:r,model:a.model||i.model,ownerName:a.ownerName||i.ownerName,isDuplicateToday:!1}):i=>({...i,carNumber:r,isDuplicateToday:!1}))},O=async t=>{if(window.confirm("Delete this outside car?"))try{await C.delete(`/api/admin/vehicles/${t}`,{headers:{Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}}),D()}catch{alert("Error deleting")}},H=async t=>{t.preventDefault();try{const r=JSON.parse(localStorage.getItem("userInfo"));if(!y?._id)return alert("Select a company first!");let a=`${o.carNumber}#${o.date}`;if(!j)a+=`#${Math.random().toString(36).substring(2,7)}`;else if(T){const l=g.find(s=>s._id===T)?.carNumber?.split("#")||[];o.carNumber===l[0]&&o.date===l[1]&&l[2]?a+=`#${l[2]}`:a+=`#${Math.random().toString(36).substring(2,7)}`}let i={carNumber:a,model:o.model?.trim(),property:o.property?.trim(),dutyType:o.dutyType?.trim()||"",ownerName:o.ownerName?.trim(),dutyAmount:Number(o.dutyAmount)||0,dropLocation:o.dropLocation?.trim()||"",companyId:y._id,isOutsideCar:!0,status:"active",createdAt:o.date};if(j&&T)await C.put(`/api/admin/vehicles/${T}`,i,{headers:{Authorization:`Bearer ${r.token}`}});else{const n=new FormData;Object.keys(i).forEach(l=>n.append(l,i[l])),n.append("permitType","Contract"),n.append("carType","Other"),await C.post("/api/admin/vehicles",n,{headers:{Authorization:`Bearer ${r.token}`}})}N(!1),z(!1),A(null),d({...o,carNumber:"",dutyAmount:"",dropLocation:"",dutyType:""}),D()}catch(r){alert(r.response?.data?.message||"Error processing duty")}},_=t=>{d({carNumber:t.carNumber?.split("#")[0]||"",model:t.model,property:t.property||"",dutyType:t.dutyType,ownerName:t.ownerName,dutyAmount:t.dutyAmount,dropLocation:t.dropLocation,date:t.carNumber?.split("#")[1]||new Date(t.createdAt).toISOString().split("T")[0]}),A(t._id),z(!0),N(!0)},m=g.filter(t=>{const a=(t.carNumber?.split("#")[0]||"").toLowerCase().includes(b.toLowerCase())||t.model?.toLowerCase().includes(b.toLowerCase())||t.ownerName?.toLowerCase().includes(b.toLowerCase())||t.property?.toLowerCase().includes(b.toLowerCase()),i=h==="All"||t.ownerName?.trim()===h?.trim(),n=t.property?.trim().toLowerCase().replace(/\s+/g," "),l=f==="All"?"All":f.trim().toLowerCase().replace(/\s+/g," "),s=f==="All"||n===l,p=t.carNumber?.split("#")[1];if(!p)return!1;const u=p>=S&&p<=v;return a&&i&&s&&u}).sort((t,r)=>{const a=t.carNumber?.split("#")[1]||"",i=r.carNumber?.split("#")[1]||"";return a!==i?i.localeCompare(a):new Date(r.createdAt)-new Date(t.createdAt)}),Q=m.reduce((t,r)=>t+(r&&Number(r.dutyAmount)||0),0),K=m.reduce((t,r)=>t+(r?.dutyType?r.dutyType.split(" + ").filter(Boolean).length:0),0),Z=[...new Set(g.map(t=>t.ownerName?.trim()).filter(Boolean))].sort(),ee=Object.values(g.filter(t=>h==="All"||t.ownerName?.trim()===h?.trim()).reduce((t,r)=>{const a=r.property?.trim();if(a){const i=a.toLowerCase().replace(/\s+/g," ");t[i]||(t[i]=a)}return t},{})).sort(),te=[...new Set(g.map(t=>t.carNumber?.split("#")[0]).filter(Boolean))],re=[...new Set(g.map(t=>t.dutyType).filter(Boolean))],ie=[...new Set(g.map(t=>t.dropLocation).filter(Boolean))],E=t=>new Date(t).toLocaleDateString("en-IN",{day:"numeric",month:"short"});return e.jsxs("div",{className:"container-fluid",style:{paddingBottom:"60px"},children:[e.jsx(pe,{title:"Outside Fleet Command",description:"Manage external vehicles and freelancer drivers for specific duties."}),e.jsxs("header",{style:{padding:"clamp(20px, 4vw, 40px) 0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px",marginBottom:"30px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e.jsx("div",{style:{width:"clamp(40px,10vw,50px)",height:"clamp(40px,10vw,50px)",background:"linear-gradient(135deg, white, #f8fafc)",borderRadius:"16px",padding:"8px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:e.jsx(W,{size:32,color:"#fbbf24"})}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#fbbf24",boxShadow:"0 0 8px #fbbf24"}}),e.jsx("span",{style:{fontSize:"clamp(9px,2.5vw,10px)",fontWeight:"800",color:"rgba(255,255,255,0.5)",letterSpacing:"1px",textTransform:"uppercase"},children:"Vendor Management"})]}),e.jsxs("h1",{style:{color:"white",fontSize:"clamp(24px, 5vw, 32px)",fontWeight:"900",margin:0,letterSpacing:"-1px"},children:["Outside ",e.jsx("span",{className:"text-gradient-yellow",children:"Fleet"})]}),e.jsxs("p",{style:{marginTop:"4px",fontSize:"13px",color:"rgba(255,255,255,0.6)",margin:0},children:["External assets: ",e.jsx("b",{style:{color:"white"},children:E(S)})," — ",e.jsx("b",{style:{color:"white"},children:E(v)})]})]})]}),e.jsxs("div",{className:"flex-resp",style:{gap:"12px"},children:[e.jsxs(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card",style:{padding:"12px 20px",background:"rgba(251, 191, 36, 0.05)",border:"1px solid rgba(251, 191, 36, 0.1)",display:"flex",flexDirection:"column",minWidth:"130px"},children:[e.jsx("span",{style:{fontSize:"9px",fontWeight:"800",color:"#fbbf24",letterSpacing:"1px",textTransform:"uppercase",marginBottom:"4px"},children:"Total Payable"}),e.jsxs("span",{style:{color:"white",fontSize:"18px",fontWeight:"900"},children:["₹",Q.toLocaleString()]})]}),e.jsxs(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card",style:{padding:"12px 20px",background:"rgba(16, 185, 129, 0.05)",border:"1px solid rgba(16, 185, 129, 0.1)",display:"flex",flexDirection:"column",minWidth:"130px"},children:[e.jsx("span",{style:{fontSize:"9px",fontWeight:"800",color:"#34d399",letterSpacing:"1px",textTransform:"uppercase",marginBottom:"4px"},children:"Records Found"}),e.jsx("span",{style:{color:"white",fontSize:"18px",fontWeight:"900"},children:K})]})]})]}),e.jsxs("div",{className:"glass-card",style:{padding:"20px",marginBottom:"30px",display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[e.jsxs("div",{style:{position:"relative",flex:"1",minWidth:"200px"},children:[e.jsx(L,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"rgba(255,255,255,0.4)"}}),e.jsx("input",{type:"text",placeholder:"Search number, owner...",className:"input-field",value:b,onChange:t=>$(t.target.value),style:{width:"100%",height:"50px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",paddingLeft:"45px",margin:0}})]}),e.jsxs("select",{value:h,onChange:t=>G(t.target.value),className:"input-field",style:{flex:"1 1 160px",height:"50px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",margin:0},children:[e.jsx("option",{value:"All",style:{background:"#1e293b"},children:"All Owners"}),Z.map(t=>e.jsx("option",{value:t,style:{background:"#1e293b"},children:t},t))]}),e.jsxs("select",{value:f,onChange:t=>B(t.target.value),className:"input-field",style:{flex:"1 1 160px",height:"50px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",margin:0},children:[e.jsx("option",{value:"All",style:{background:"#1e293b"},children:"All Properties"}),ee.map(t=>e.jsx("option",{value:t,style:{background:"#1e293b"},children:t},t))]}),e.jsxs("div",{style:{display:"flex",gap:"8px",flex:"0 0 auto"},children:[e.jsx("input",{type:"date",value:S,onChange:t=>J(t.target.value),className:"input-field",style:{width:"135px",height:"50px",fontSize:"12px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",margin:0}}),e.jsx("input",{type:"date",value:v,onChange:t=>q(t.target.value),className:"input-field",style:{width:"135px",height:"50px",fontSize:"12px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",margin:0}})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"15px",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:async()=>{const t=await oe(()=>import("./xlsx.min-q5GPDRXn.js").then(s=>s.x),__vite__mapDeps([0,1,2])),r=m.map(s=>({Property:s.property||"",Owner:s.ownerName||"",Date:(()=>{const p=s.carNumber?.split("#")[1]||s.createdAt;return p?new Date(p).toLocaleDateString("en-GB"):""})(),"Vehicle Details":`${s.model||""} - ${s.carNumber?.split("#")[0]||""}`,"Drop Location":s.dropLocation?.replace(/ \| /g," ➜ ")||"","Service Type":s.dutyType||"",Amount:Number(s.dutyAmount)||0})),a=r.reduce((s,p)=>s+p.Amount,0);r.push({Property:"",Owner:"",Date:"","Vehicle Details":"","Drop Location":"","Service Type":"TOTAL PAYABLE",Amount:a});const i=t.utils.json_to_sheet(r),n=t.utils.decode_range(i["!ref"]);for(let s=n.s.c;s<=n.e.c;++s){let p=10;for(let u=n.s.r;u<=n.e.r;++u){const x=i[t.utils.encode_cell({r:u,c:s})];x&&(x.s={alignment:{horizontal:"center",vertical:"center"},font:{name:"Arial",sz:10}},u===0&&(x.s.font.bold=!0,x.s.fill={fgColor:{rgb:"4F46E5"}},x.s.font.color={rgb:"FFFFFF"}),s===6&&(x.s.alignment.horizontal="right"),u===n.e.r&&(x.s.font.bold=!0,x.s.fill={fgColor:{rgb:"E0E7FF"}}),x.v&&(p=Math.max(p,x.v.toString().length+5)))}i["!cols"]||(i["!cols"]=[]),i["!cols"][s]={wch:p}}const l=t.utils.book_new();t.utils.book_append_sheet(l,i,"Outside Fleet Log"),t.writeFile(l,`Outside_Fleet_Report_${S}_to_${v}.xlsx`)},className:"glass-card-hover-effect",style:{height:"52px",padding:"0 20px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",color:"#10b981",fontWeight:"800",display:"flex",alignItems:"center",gap:"8px",borderRadius:"12px"},children:[e.jsx(se,{size:20})," Excel"]}),e.jsxs("button",{onClick:U,style:{display:"flex",alignItems:"center",gap:"10px",height:"52px",padding:"0 25px",borderRadius:"14px",fontWeight:"800",background:"linear-gradient(135deg, #fbbf24 0%, #d97706 100%)",color:"black",border:"none",whiteSpace:"nowrap",flexShrink:0,boxShadow:"0 8px 15px rgba(251, 191, 36, 0.2)"},children:[e.jsx(ne,{size:20})," ",e.jsx("span",{className:"hide-mobile",children:"Add Duty Entry"}),e.jsx("span",{className:"show-mobile",children:"Add"})]})]})]}),e.jsx("div",{className:"glass-card hide-mobile",style:{padding:"0",overflowX:"auto",border:"1px solid rgba(255,255,255,0.05)",background:"transparent"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"0 12px",padding:"0 10px",minWidth:"900px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{textAlign:"left"},children:[e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Timeline"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Vehicle Identification"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Service Detail"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Entities"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Settlement"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px",textAlign:"right"},children:"Actions"})]})}),e.jsx("tbody",{children:R?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",style:{textAlign:"center",padding:"100px 0"},children:[e.jsx("div",{className:"spinner",style:{margin:"0 auto 20px"}}),e.jsx("p",{style:{color:"var(--text-muted)",fontWeight:"700"},children:"FETCHING LOGS..."})]})}):m.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",style:{textAlign:"center",padding:"120px 0"},children:[e.jsx(W,{size:60,style:{opacity:.1,color:"var(--secondary)",marginBottom:"20px"}}),e.jsx("h3",{style:{color:"white",fontWeight:"800"},children:"No Duties Logged"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"The fleet is currently idle for the selected filters."})]})}):m.map((t,r)=>e.jsxs(w.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:r*.03},className:"glass-card-hover-effect",style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"16px"},children:[e.jsx("td",{style:{padding:"20px 25px",borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px"},children:e.jsx("div",{style:{color:"white",fontWeight:"900",fontSize:"16px",letterSpacing:"-0.5px"},children:(()=>{const a=t.carNumber?.split("#");if(a&&a[1]){const[i,n,l]=a[1].split("-"),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${parseInt(l)} ${s[parseInt(n)-1]}`}return new Date(t.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})()})}),e.jsxs("td",{style:{padding:"20px 25px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{fontWeight:"900",fontSize:"18px",color:"white",letterSpacing:"0.5px"},children:t.carNumber?.split("#")[0]}),t.dutyType?.includes(" + ")&&e.jsx("span",{style:{fontSize:"9px",background:"rgba(251, 191, 36, 0.2)",color:"#fbbf24",padding:"3px 8px",borderRadius:"6px",fontWeight:"900",border:"1px solid rgba(251, 191, 36, 0.2)"},children:"COMBINED"})]}),e.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)",fontWeight:"600"},children:t.model})]}),e.jsx("td",{style:{padding:"20px 25px"},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.dutyType?.split(" + ").map((a,i)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--secondary)"}}),e.jsx("span",{style:{fontSize:"12px",color:"white",fontWeight:"700"},children:a}),t.dropLocation?.split(" | ")[i]&&e.jsxs("span",{style:{fontSize:"11px",color:"rgba(255,255,255,0.3)"},children:["➜ ",t.dropLocation.split(" | ")[i]]})]},i))})}),e.jsxs("td",{style:{padding:"20px 25px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"800",color:"white"},children:t.property||"N/A"}),e.jsxs("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.3)",fontWeight:"700"},children:["Owner: ",t.ownerName]})]}),e.jsx("td",{style:{padding:"20px 25px"},children:e.jsx("div",{style:{display:"inline-flex",padding:"10px 18px",background:"rgba(16, 185, 129, 0.05)",borderRadius:"12px",border:"1px solid rgba(16, 185, 129, 0.1)"},children:e.jsxs("span",{style:{color:"#10b981",fontWeight:"900",fontSize:"18px"},children:["₹",t.dutyAmount?.toLocaleString()]})})}),e.jsx("td",{style:{padding:"20px 25px",textAlign:"right",borderTopRightRadius:"16px",borderBottomRightRadius:"16px"},children:e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:()=>_(t),style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"10px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsx(L,{size:16})}),e.jsx("button",{onClick:()=>O(t._id),style:{background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",padding:"10px",borderRadius:"12px",border:"1px solid rgba(244, 63, 94, 0.1)"},children:e.jsx(F,{size:16})})]})})]},t._id))})]})}),e.jsx("div",{className:"show-mobile",children:R?e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"100px 0"},children:e.jsx("div",{className:"spinner"})}):m.length===0?e.jsxs("div",{className:"glass-card",style:{textAlign:"center",padding:"120px 20px",border:"2px dashed rgba(255,255,255,0.05)",background:"transparent"},children:[e.jsx(W,{size:60,style:{opacity:.1,color:"var(--secondary)",marginBottom:"20px",margin:"0 auto"}}),e.jsx("h3",{style:{color:"white",fontWeight:"800"},children:"No Duties Logged"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"The fleet is currently idle for the selected filters."})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:m.map((t,r)=>e.jsxs(w.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:r*.05},className:"glass-card",style:{padding:"20px",background:"rgba(30, 41, 59, 0.4)",borderRadius:"18px",border:"1px solid rgba(255,255,255,0.05)",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:0,right:0,width:"80px",height:"80px",background:"var(--secondary)",filter:"blur(60px)",opacity:.05}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"white",letterSpacing:"0.5px"},children:t.carNumber?.split("#")[0]}),t.dutyType?.includes(" + ")&&e.jsx("span",{style:{fontSize:"8px",background:"rgba(251, 191, 36, 0.2)",color:"#fbbf24",padding:"2px 6px",borderRadius:"4px",fontWeight:"900",textTransform:"uppercase"},children:"Combined"})]}),e.jsx("div",{style:{fontSize:"13px",color:"var(--text-muted)",fontWeight:"600"},children:t.model})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{color:"#10b981",fontWeight:"900",fontSize:"20px"},children:["₹",t.dutyAmount?.toLocaleString()]}),e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",fontWeight:"800",textTransform:"uppercase"},children:"Payout"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"15px",padding:"12px",background:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"9px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"800",marginBottom:"2px"},children:"Client Property"}),e.jsx("div",{style:{color:"white",fontSize:"13px",fontWeight:"700"},children:t.property||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"9px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"800",marginBottom:"2px"},children:"Owner"}),e.jsx("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"13px",fontWeight:"600"},children:t.ownerName})]})]}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"800",marginBottom:"6px"},children:"Duty Timeline"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.dutyType?.split(" + ").map((a,i)=>e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[e.jsx("div",{style:{marginTop:"4px",width:"6px",height:"6px",borderRadius:"50%",background:"var(--secondary)"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"13px",color:"white",fontWeight:"700"},children:a}),t.dropLocation?.split(" | ")[i]&&e.jsxs("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",marginTop:"2px"},children:["➜ ",t.dropLocation.split(" | ")[i]]})]})]},i))})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"15px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("div",{style:{padding:"4px 8px",background:"rgba(255,255,255,0.05)",borderRadius:"6px",fontSize:"11px",color:"white",fontWeight:"700"},children:(()=>{const a=t.carNumber?.split("#");if(a&&a[1]){const[i,n,l]=a[1].split("-"),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${parseInt(l)} ${s[parseInt(n)-1]}`}return new Date(t.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})()}),e.jsxs("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.3)"},children:["Entry Time: ",new Date(t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>_(t),style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"10px",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsx(L,{size:16})}),e.jsx("button",{onClick:()=>O(t._id),style:{background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",padding:"10px",borderRadius:"10px",border:"1px solid rgba(244, 63, 94, 0.1)"},children:e.jsx(F,{size:16})})]})]})]},t._id))})}),e.jsx(le,{children:X&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(16px)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"15px",overflowY:"auto"},children:e.jsxs(w.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"premium-glass",style:{width:"100%",maxWidth:"600px",padding:"0",border:"1px solid rgba(255,255,255,0.1)",background:"#0f172a",overflow:"visible",margin:"auto",borderRadius:"24px"},children:[e.jsxs("div",{style:{padding:"24px 30px",background:"linear-gradient(to right, #1e293b, #0f172a)",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:10,borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{color:"white",fontSize:"20px",margin:0,fontWeight:"800"},children:j?"Update Voucher":"New Duty Entry"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"700",textTransform:"uppercase",margin:"4px 0 0"},children:"Log Past Duty"})]}),e.jsx("button",{onClick:()=>N(!1),style:{background:"rgba(255,255,255,0.05)",color:"white",borderRadius:"50%",padding:"10px",border:"none",cursor:"pointer"},children:e.jsx(de,{size:18})})]}),e.jsxs("form",{onSubmit:H,style:{padding:"25px",display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Vehicle Number *"}),e.jsx("input",{type:"text",list:"carCodes",className:"input-field",required:!0,disabled:j,value:o.carNumber,onChange:t=>Y(t.target.value),placeholder:"DL-01...",style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"}}),e.jsx("datalist",{id:"carCodes",children:te.map((t,r)=>e.jsx("option",{value:t},r))})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Model *"}),e.jsx("input",{type:"text",className:"input-field",required:!0,value:o.model,onChange:t=>d({...o,model:t.target.value}),placeholder:"e.g. Innova",style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Proprietor (Owner) *"}),e.jsx("input",{type:"text",className:"input-field",required:!0,value:o.ownerName,onChange:t=>d({...o,ownerName:t.target.value}),placeholder:"Company Name",style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"}})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Property (Client) *"}),e.jsx("input",{type:"text",className:"input-field",required:!0,value:o.property,onChange:t=>d({...o,property:t.target.value}),placeholder:"e.g. Hotel Taj",style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"}})]})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Duty Date *"}),e.jsx("input",{type:"date",className:"input-field",required:!0,value:o.date,onChange:t=>d({...o,date:t.target.value}),style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"}})]}),e.jsxs("div",{style:{padding:"20px",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.03)",display:"grid",gap:"20px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Service Type"}),e.jsx("input",{type:"text",list:"serviceTypes",className:"input-field",value:o.dutyType,onChange:t=>d({...o,dutyType:t.target.value}),placeholder:"e.g. Airport Drop",style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"}}),e.jsx("datalist",{id:"serviceTypes",children:re.map((t,r)=>e.jsx("option",{value:t},r))})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:{color:"#fbbf24",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Settlement Amount (₹) *"}),e.jsx("input",{type:"number",className:"input-field",required:!0,value:o.dutyAmount,onChange:t=>d({...o,dutyAmount:t.target.value}),style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"#fbbf24",padding:"0 15px",fontWeight:"800",fontSize:"18px"},placeholder:"0.00"})]})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Drop Location / Terminal"}),e.jsx("input",{type:"text",list:"points",className:"input-field",value:o.dropLocation,onChange:t=>d({...o,dropLocation:t.target.value}),placeholder:"Specific location detail...",style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"}}),e.jsx("datalist",{id:"points",children:ie.map((t,r)=>e.jsx("option",{value:t},r))})]})]}),e.jsx("button",{type:"submit",style:{height:"56px",background:"linear-gradient(135deg, #fbbf24, #d97706)",borderRadius:"16px",fontWeight:"900",fontSize:"16px",color:"black",border:"none",boxShadow:"0 12px 24px -8px rgba(251, 191, 36, 0.5)",cursor:"pointer",transition:"all 0.3s ease",textTransform:"uppercase",letterSpacing:"1px",marginTop:"10px"},children:j?"Update Record":"Confirm Entry"})]})]})})})]})};export{ue as default};
