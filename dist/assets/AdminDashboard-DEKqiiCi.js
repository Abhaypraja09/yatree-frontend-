import{u as R,b as p,j as e,m as f,o as W,p as L,e as $,A as C,c as O,U as j,C as P,q as F,F as B,W as M,s as E,T as z,t as V,v as _,S as U,X as K}from"./vendor-C_ywCXHK.js";import{u as H,a as Y,b as J,i as v}from"./index-BIJFZ0ug.js";import{S as G}from"./SEO-BK4B2ZiL.js";const o=({icon:s,label:l,value:x,color:a,loading:n,trend:c,onClick:i})=>e.jsxs(f.div,{whileHover:{y:-5,scale:1.01},onClick:i,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`stat-card glass-card ${n?"stale-card":""}`,style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.7) 0%, rgba(15, 23, 42, 0.8) 100%)",border:"1px solid rgba(255,255,255,0.06)",position:"relative",overflow:"hidden",padding:"clamp(15px, 2.5vw, 24px)",cursor:"pointer"},children:[e.jsx("div",{style:{position:"absolute",top:"-20%",left:"-10%",width:"120px",height:"120px",background:a,filter:"blur(60px)",opacity:.07,pointerEvents:"none"}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[e.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",background:`${a}15`,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${a}30`,color:a,boxShadow:`0 8px 16px -4px ${a}20`},children:e.jsx(s,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"11px",fontWeight:"800",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"1.5px",marginBottom:"4px"},children:l}),e.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[e.jsx("h3",{style:{fontSize:"26px",fontWeight:"900",color:"white",letterSpacing:"-0.5px",margin:0},children:n?"...":x||0}),c&&e.jsxs("span",{style:{fontSize:"10px",color:"#10b981",fontWeight:"800",display:"flex",alignItems:"center",gap:"2px"},children:[e.jsx(z,{size:10})," LIVE"]})]})]})]})]}),q=({item:s,onClose:l,onApproveReject:x})=>(p.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs(f.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2},className:"glass-card modal-content",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Attendance Details"}),e.jsx("button",{onClick:l,className:"modal-close-btn",children:e.jsx(K,{size:18})})]}),e.jsxs("div",{className:"modal-grid-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"modal-section-title",style:{color:"#10b981",borderLeft:"4px solid #10b981",paddingLeft:"12px"},children:"Duty Started"}),e.jsxs("div",{className:"photo-grid",children:[e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"SELFIE"}),e.jsx("img",{src:s.punchIn?.selfie,alt:"Start Duty Selfie",className:"photo-thumbnail",loading:"lazy"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"KM METER"}),e.jsx("img",{src:s.punchIn?.kmPhoto,alt:"KM Photo",className:"photo-thumbnail",loading:"lazy"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"CAR SELFIE"}),e.jsx("img",{src:s.punchIn?.carSelfie,alt:"Car Selfie",className:"photo-thumbnail",loading:"lazy"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"modal-section-title",style:{color:"#f43f5e",borderLeft:"4px solid #f43f5e",paddingLeft:"12px"},children:"Duty Ended"}),s.punchOut?.time?e.jsxs("div",{className:"photo-grid",children:[e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"SELFIE"}),e.jsx("img",{src:s.punchOut?.selfie,alt:"Duty Ended Selfie",className:"photo-thumbnail",loading:"lazy"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"KM METER"}),e.jsx("img",{src:s.punchOut?.kmPhoto,alt:"KM Photo",className:"photo-thumbnail",loading:"lazy"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"CAR SELFIE"}),e.jsx("img",{src:s.punchOut?.carSelfie,alt:"Car Selfie",className:"photo-thumbnail",loading:"lazy"})]})]}):e.jsxs("div",{style:{height:"clamp(70px, 16vw, 85px)",display:"flex",flexDirection:"column",gap:"8px",justifyContent:"center",alignItems:"center",color:"var(--text-muted)",border:"1px dashed rgba(255,255,255,0.1)",borderRadius:"12px",background:"rgba(255,255,255,0.02)"},children:[e.jsx(E,{size:20}),e.jsx("p",{style:{fontSize:"clamp(11px, 2.5vw, 12px)",margin:0,fontWeight:"600"},children:"On Trip..."})]})]})]}),s.punchOut?.remarks&&e.jsxs("div",{className:"glass-card",style:{marginTop:"clamp(18px, 4vw, 20px)",padding:"clamp(12px, 2.5vw, 15px)",border:"1px solid rgba(255,255,255,0.03)"},children:[e.jsx("p",{style:{fontSize:"clamp(9px, 2.2vw, 10px)",color:"var(--text-muted)",marginBottom:"8px",fontWeight:"800"},children:"REMARKS"}),e.jsxs("p",{style:{color:"white",fontSize:"clamp(12px, 2.8vw, 13px)",lineHeight:"1.6",margin:0,fontStyle:"italic"},children:['"',s.punchOut.remarks,'"']})]}),s.punchOut?.otherRemarks&&e.jsxs("div",{className:"glass-card",style:{marginTop:"clamp(12px, 2.5vw, 15px)",padding:"clamp(12px, 2.5vw, 15px)",border:"1px solid rgba(244, 63, 94, 0.2)",background:"rgba(244, 63, 94, 0.05)"},children:[e.jsx("p",{style:{fontSize:"clamp(9px, 2.2vw, 10px)",color:"#f43f5e",marginBottom:"8px",fontWeight:"800"},children:"ISSUES / MAINTENANCE"}),e.jsx("p",{style:{color:"white",fontSize:"clamp(12px, 2.8vw, 13px)",lineHeight:"1.6",margin:0},children:s.punchOut.otherRemarks})]}),s.pendingExpenses&&s.pendingExpenses.length>0&&e.jsxs("div",{style:{marginTop:"clamp(18px, 4vw, 25px)"},children:[e.jsx("h3",{className:"modal-section-title",style:{color:"#f59e0b",borderLeft:"4px solid #f59e0b",paddingLeft:"12px"},children:"Awaiting Slips"}),e.jsx("div",{style:{display:"grid",gap:"12px",marginTop:"12px"},children:s.pendingExpenses.map((a,n)=>e.jsxs("div",{className:"glass-card",style:{padding:"12px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"45px",height:"45px",borderRadius:"8px",overflow:"hidden",cursor:a.slipPhoto?"pointer":"default",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>a.slipPhoto&&window.open(a.slipPhoto,"_blank"),children:a.slipPhoto?e.jsx("img",{src:a.slipPhoto,alt:"Slip",style:{width:"100%",height:"100%",objectFit:"cover"},loading:"lazy"}):e.jsx(Camera,{size:20,style:{opacity:.3}})}),e.jsxs("div",{children:[e.jsxs("p",{style:{color:"white",fontSize:"14px",fontWeight:"700",margin:0,textTransform:"capitalize"},children:[a.type," - â‚¹",a.amount]}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:"11px",margin:0},children:a.type==="fuel"?`${a.km} KM`:"Parking Slip"})]})]}),a.status==="pending"?e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>x(s._id,a._id,"approved"),style:{background:"rgba(16, 185, 129, 0.15)",color:"#10b981",padding:"6px 12px",borderRadius:"8px",fontSize:"11px",fontWeight:"800",border:"1px solid rgba(16, 185, 129, 0.2)"},children:"APPROVE"}),e.jsx("button",{onClick:()=>x(s._id,a._id,"rejected"),style:{background:"rgba(244, 63, 94, 0.15)",color:"#f43f5e",padding:"6px 12px",borderRadius:"8px",fontSize:"11px",fontWeight:"800",border:"1px solid rgba(244, 63, 94, 0.2)"},children:"REJECT"})]}):e.jsx("span",{style:{fontSize:"11px",fontWeight:"800",color:a.status==="approved"?"#10b981":"#f43f5e",textTransform:"uppercase",padding:"4px 8px",borderRadius:"6px",background:a.status==="approved"?"rgba(16, 185, 129, 0.1)":"rgba(244, 63, 94, 0.1)"},children:a.status})]},a._id))})]}),e.jsx("div",{style:{marginTop:"clamp(18px, 4vw, 25px)",display:"grid",gap:"clamp(12px, 2.5vw, 15px)"},className:"modal-grid-2",children:e.jsxs("div",{className:"glass-card",style:{padding:"clamp(14px, 2.5vw, 15px)",textAlign:"center",border:"1px solid rgba(16, 185, 129, 0.2)",background:"rgba(16, 185, 129, 0.05)"},children:[e.jsx("p",{style:{fontSize:"clamp(9px, 2.2vw, 10px)",color:"#10b981",fontWeight:"800",marginBottom:"6px"},children:"DISTANCE COVERED"}),e.jsxs("h3",{style:{color:"white",margin:0,fontSize:"clamp(20px, 4.5vw, 24px)",fontWeight:"800"},children:[s.totalKM," ",e.jsx("small",{style:{fontSize:"clamp(11px, 2.5vw, 12px)",opacity:.6},children:"KM"})]})]})})]})})),ee=()=>{const{user:s}=H(),l=R(),{t:x}=Y(),{selectedCompany:a,selectedDate:n,setSelectedDate:c}=J(),[i,w]=p.useState(null),[r,S]=p.useState(!0),[m,b]=p.useState(null),h=p.useRef(null),N=()=>new Date().toLocaleDateString("en-CA"),A=t=>t?new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"";p.useEffect(()=>{let t=!1;return(async()=>{const u=localStorage.getItem("userInfo");if(!(!u||!a)){S(!0);try{const d=JSON.parse(u),{data:y}=await v.get(`/api/admin/dashboard/${a._id}?date=${n}`,{headers:{Authorization:`Bearer ${d.token}`}});t||w(y)}catch(d){console.error("Error fetching stats",d)}finally{t||S(!1)}}})(),()=>{t=!0}},[a,n]);const D=async(t,g,u)=>{try{const d=localStorage.getItem("userInfo"),y=JSON.parse(d);await v.patch(`/api/admin/attendance/${t}/expense/${g}`,{status:u},{headers:{Authorization:`Bearer ${y.token}`}});const{data:k}=await v.get(`/api/admin/dashboard/${a._id}?date=${n}`,{headers:{Authorization:`Bearer ${y.token}`}});if(w(k),m&&m._id===t){const I=k.attendanceDetails.find(T=>T._id===t);b(I)}}catch(d){console.error("Error processing expense",d),alert("Failed to process expense")}};return e.jsxs("div",{className:"container-fluid admin-layout-wrapper",style:{padding:"clamp(12px, 2vw, 20px)",maxWidth:"100vw",overflow:"hidden"},children:[e.jsx(G,{title:`${a?.name||"Admin"} Dashboard`,description:`Real-time stats and activity for ${a?.name||"your fleet"}.`}),e.jsx("div",{style:{background:"linear-gradient(180deg, rgba(30, 41, 59, 0.4) 0%, transparent 100%)",borderRadius:"clamp(12px, 3vw, 24px)",padding:"clamp(15px, 3vw, 24px)",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"clamp(15px, 3vw, 30px)",width:"100%",boxSizing:"border-box"},children:e.jsxs("header",{style:{display:"flex",flexDirection:"column",gap:"clamp(15px, 3vw, 20px)",width:"100%"},children:[e.jsxs("div",{className:"header-logo-section",children:[e.jsx(f.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},style:{width:" clamp(44px, 10vw, 56px)",height:"clamp(44px, 10vw, 56px)",background:"white",borderRadius:"14px",padding:"8px",boxShadow:"0 12px 24px -6px rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsx("img",{src:"/logos/logo.png",alt:"Yatree Destination Logo",style:{width:"100%",height:"100%",objectFit:"contain"}})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#10b981",boxShadow:"0 0 10px #10b981"}}),e.jsx("span",{style:{fontSize:"9px",fontWeight:"900",color:"rgba(255,255,255,0.4)",letterSpacing:"1.5px",textTransform:"uppercase"},children:"Fleet Overview"})]}),e.jsxs("h1",{style:{fontSize:"clamp(18px, 4.5vw, 24px)",fontWeight:"900",color:"white",margin:"2px 0 0 0",letterSpacing:"-0.5px"},children:["Yatree Destination ",e.jsx("span",{className:"hide-mobile",children:"Dashboard"})]})]})]}),e.jsx("div",{style:{width:"100%"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",background:"rgba(0,0,0,0.2)",padding:"6px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",width:"100%",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",gap:"2px"},children:[e.jsx("button",{onClick:()=>{const t=new Date(n);t.setDate(t.getDate()-1),c(t.toISOString().split("T")[0])},style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",background:"#334155",color:"#ffffff",cursor:"pointer",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:e.jsx(W,{size:20,strokeWidth:3})}),e.jsxs("div",{style:{position:"relative",flex:1,cursor:"pointer"},onClick:()=>{h.current&&(typeof h.current.showPicker=="function"?h.current.showPicker():h.current.click())},children:[e.jsxs("div",{style:{height:"36px",padding:"0 15px",background:"#334155",borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",whiteSpace:"nowrap",pointerEvents:"none"},children:[e.jsx(L,{size:16,color:"#ffffff"}),e.jsx("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"700"},children:A(n)})]}),e.jsx("input",{type:"date",ref:h,value:n,onChange:t=>t.target.value&&c(t.target.value),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,pointerEvents:"none"}})]}),e.jsx("button",{onClick:()=>{const t=new Date(n);t.setDate(t.getDate()+1),c(t.toISOString().split("T")[0])},style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",background:"#334155",color:"#ffffff",cursor:"pointer",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:e.jsx($,{size:20,strokeWidth:3})})]}),e.jsx("button",{onClick:()=>c(N()),style:{padding:"0 12px",height:"30px",borderRadius:"8px",background:n===N()?"var(--primary)":"rgba(255,255,255,0.05)",color:"white",fontWeight:"800",fontSize:"10px",textTransform:"uppercase"},children:"Today"})]})})]})}),e.jsxs("div",{style:{position:"relative",minHeight:"600px"},children:[e.jsx(C,{children:r&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",inset:0,background:"rgba(15, 23, 42, 0.4)",backdropFilter:"blur(4px)",zIndex:10,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"16px",pointerEvents:"none"},children:e.jsx("div",{className:"spinner"})})}),i&&e.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"dashboard-main-container",children:[e.jsxs("div",{className:"stats-grid",style:{marginBottom:"clamp(20px, 4vw, 40px)",width:"100%"},children:[e.jsx(o,{icon:O,label:"FLEET SIZE",value:i.totalVehicles,color:"#0ea5e9",loading:r,onClick:()=>l(s?.role==="Executive"?"/admin/outside-cars":"/admin/vehicles")}),e.jsx(o,{icon:j,label:"TOTAL DRIVERS",value:i.totalDrivers,color:"#6366f1",loading:r,onClick:()=>l(s?.role==="Executive"?"/admin/freelancers":"/admin/drivers")}),s?.role==="Admin"&&e.jsxs(e.Fragment,{children:[e.jsx(o,{icon:P,label:"FASTAG BALANCE",value:`â‚¹${i.totalFastagBalance?.toLocaleString()||0}`,color:"#10b981",loading:r,onClick:()=>l("/admin/fastag")}),e.jsx(o,{icon:F,label:"DRIVER ADVANCES",value:`â‚¹${i.totalAdvancePending?.toLocaleString()||0}`,color:"#f43f5e",loading:r,onClick:()=>l("/admin/advances")}),e.jsx(o,{icon:B,label:"FUEL (MONTHLY)",value:`â‚¹${i.monthlyFuelAmount?.toLocaleString()||0}`,color:"#0ea5e9",loading:r,onClick:()=>l("/admin/fuel")})]}),e.jsx(o,{icon:M,label:"MAINTENANCE (MONTHLY)",value:`â‚¹${i.monthlyMaintenanceAmount?.toLocaleString()||0}`,color:"#f59e0b",loading:r,onClick:()=>l("/admin/maintenance")}),e.jsx(o,{icon:E,label:"ON ACTIVE DUTY",value:i.countPunchIns,color:"#8b5cf6",loading:r,trend:!0,onClick:()=>l("/admin/reports")}),e.jsx(o,{icon:z,label:"DUTY CONCLUDED",value:i.countPunchOuts,color:"#f59e0b",loading:r,onClick:()=>l("/admin/reports")}),s?.role==="Admin"&&e.jsxs(e.Fragment,{children:[e.jsx(o,{icon:V,label:"TOTAL STAFF",value:i.totalStaff,color:"#8b5cf6",loading:r,onClick:()=>l("/admin/staff")}),e.jsx(o,{icon:_,label:"STAFF PRESENT",value:i.countStaffPresent,color:"#10b981",loading:r,onClick:()=>l("/admin/staff")})]})]}),i.expiringAlerts&&i.expiringAlerts.length>0&&e.jsxs("div",{className:"glass-card",style:{border:"1px solid rgba(244, 63, 94, 0.2)",background:"linear-gradient(145deg, rgba(244, 63, 94, 0.05), rgba(15, 23, 42, 0.2))",marginBottom:"clamp(20px, 4vw, 30px)",width:"100%",boxSizing:"border-box"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"clamp(16px, 3.5vw, 20px)",flexWrap:"wrap"},children:[e.jsx(U,{color:"#f43f5e",size:20}),e.jsx("h3",{style:{fontSize:"clamp(13px, 3.2vw, 16px)",fontWeight:"700",color:"white",margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Expiry Alerts (Within 30 Days)"})]}),e.jsx("div",{className:"expiry-alerts-grid",children:i.expiringAlerts.map((t,g)=>e.jsxs("div",{className:"alert-card glass-card-hover-effect",style:{background:t.status==="Expired"?"rgba(244, 63, 94, 0.1)":"rgba(245, 158, 11, 0.1)",border:`1px solid ${t.status==="Expired"?"rgba(244, 63, 94, 0.2)":"rgba(245, 158, 11, 0.2)"}`,position:"relative",overflow:"hidden"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px",gap:"8px"},children:[e.jsx("span",{className:"alert-identifier",style:{color:"rgba(255,255,255,0.9)",textTransform:"uppercase",flex:1,fontWeight:"700"},children:t.identifier}),e.jsx("span",{style:{fontSize:"clamp(9px, 2vw, 10px)",padding:"4px 8px",borderRadius:"6px",background:t.daysLeft<0?"#f43f5e":t.daysLeft===0?"#0ea5e9":"#f59e0b",color:"white",fontWeight:"800",flexShrink:0,whiteSpace:"nowrap",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:t.daysLeft<0?`${Math.abs(t.daysLeft)}d Ago`:t.daysLeft===0?"Today":`${t.daysLeft}d Left`})]}),e.jsx("div",{className:"alert-type",style:{color:"white",marginBottom:"8px"},children:t.documentType}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",gap:"8px"},children:[e.jsxs("div",{className:"alert-date",style:{color:"rgba(255,255,255,0.6)",fontWeight:"500",fontSize:"clamp(10px, 2.5vw, 12px)"},children:["Exp: ",e.jsx("span",{style:{color:"white",fontWeight:"700"},children:new Date(t.expiryDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})]}),e.jsxs("a",{href:`https://wa.me/916367466426?text=${encodeURIComponent(`REMINDER: Vehicle document for ${t.identifier} (${t.documentType}) is expiring on ${new Date(t.expiryDate).toLocaleDateString()}. Please renew it ASAP.`)}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(37, 211, 102, 0.2)",color:"#25D366",padding:"4px 8px",borderRadius:"6px",fontSize:"clamp(9px, 2.2vw, 10px)",fontWeight:"800",display:"flex",alignItems:"center",gap:"4px",textDecoration:"none",border:"1px solid rgba(37, 211, 102, 0.3)"},title:"Send WhatsApp Reminder",children:[e.jsx("span",{style:{fontSize:"14px"},children:"ðŸ’¬"})," WA"]})]})]},g))})]}),e.jsxs("div",{className:"glass-card",style:{border:"1px solid rgba(255,255,255,0.05)",width:"100%",boxSizing:"border-box"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"clamp(16px, 3.5vw, 20px)",flexWrap:"wrap",gap:"10px"},children:[e.jsx("h3",{style:{fontSize:"clamp(14px, 3.2vw, 16px)",fontWeight:"700",color:"white",margin:0},children:"Activity Feed"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{width:"8px",height:"8px",background:"#10b981",borderRadius:"50%",boxShadow:"0 0 10px #10b981"}}),e.jsx("span",{style:{fontSize:"clamp(9px, 2.2vw, 11px)",color:"var(--text-muted)",fontWeight:"600",letterSpacing:"0.5px"},children:"LIVE UPDATES"})]})]}),e.jsx("div",{className:"activity-table-wrapper hide-mobile",children:e.jsxs("table",{className:"activity-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Driver Details"}),e.jsx("th",{children:"Assigned Car"}),e.jsx("th",{children:"Trip Status"}),e.jsx("th",{style:{textAlign:"right"},children:"Actions"})]})}),e.jsxs("tbody",{children:[i.attendanceDetails?.map(t=>e.jsxs("tr",{className:"hover-row",children:[e.jsx("td",{children:e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:e.jsxs("div",{children:[e.jsx("div",{className:"driver-name",style:{fontWeight:"800",color:"white"},children:t.driver?.name}),e.jsx("div",{className:"driver-mobile",style:{fontSize:"11px",opacity:.6},children:t.driver?.mobile})]})})}),e.jsx("td",{children:e.jsx("span",{className:"vehicle-badge",children:t.vehicle?.carNumber})}),e.jsx("td",{children:e.jsx("span",{className:"status-pill staff-badge",style:{background:t.status==="completed"?"rgba(16, 185, 129, 0.1)":"rgba(56, 189, 248, 0.1)",color:t.status==="completed"?"#10b981":"#38bdf8",border:`1px solid ${t.status==="completed"?"rgba(16, 185, 129, 0.2)":"rgba(56, 189, 248, 0.2)"}`,fontWeight:"800",textTransform:"uppercase",fontSize:"10px",letterSpacing:"0.5px"},children:t.status==="completed"?"Duty Concluded":"On Active Duty"})}),e.jsx("td",{style:{textAlign:"right"},children:e.jsx("button",{onClick:()=>b(t),className:"action-button glass-card-hover-effect",children:"Details"})})]},t._id)),(!i.attendanceDetails||i.attendanceDetails.length===0)&&e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",style:{padding:"clamp(40px, 10vw, 60px) clamp(16px, 4vw, 25px)",textAlign:"center",color:"var(--text-muted)"},children:[e.jsx(j,{size:32,style:{opacity:.15,marginBottom:"12px"}}),e.jsx("p",{style:{fontSize:"clamp(12px, 2.8vw, 14px)",margin:0},children:"No activity recorded for this date"})]})})]})]})}),e.jsx("div",{className:"show-mobile",children:!i.attendanceDetails||i.attendanceDetails.length===0?e.jsxs("div",{className:"glass-card",style:{padding:"40px 20px",textAlign:"center",color:"var(--text-muted)"},children:[e.jsx(j,{size:32,style:{opacity:.15,marginBottom:"12px",margin:"0 auto"}}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:"No activity recorded for this date"})]}):e.jsx("div",{style:{display:"grid",gap:"15px"},children:i.attendanceDetails.map(t=>e.jsxs("div",{className:"glass-card",style:{padding:"15px",border:"1px solid rgba(255,255,255,0.08)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"rgba(56, 189, 248, 0.1)",color:"#38bdf8",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0},children:e.jsx(j,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"white",fontWeight:"800",fontSize:"15px",lineHeight:"1.2"},children:t.driver?.name}),e.jsx("div",{style:{color:"var(--text-muted)",fontSize:"12px",marginTop:"2px"},children:t.vehicle?.carNumber})]})]}),e.jsx("span",{className:"status-pill",style:{background:t.status==="completed"?"rgba(16, 185, 129, 0.1)":"rgba(56, 189, 248, 0.1)",color:t.status==="completed"?"#10b981":"#38bdf8",border:`1px solid ${t.status==="completed"?"rgba(16, 185, 129, 0.2)":"rgba(56, 189, 248, 0.2)"}`,fontSize:"10px",padding:"4px 8px",fontWeight:"800"},children:t.status==="completed"?"DONE":"ACTIVE"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[t.driverPendingAdvance>0?e.jsxs("div",{style:{color:"#f43f5e",background:"rgba(244, 63, 94, 0.1)",padding:"4px 10px",borderRadius:"8px",fontSize:"11px",fontWeight:"800",border:"1px solid rgba(244, 63, 94, 0.2)"},children:["ADV: â‚¹",t.driverPendingAdvance]}):e.jsx("span",{}),e.jsx("button",{onClick:()=>b(t),style:{background:"rgba(14, 165, 233, 0.1)",color:"#0ea5e9",border:"1px solid rgba(14, 165, 233, 0.2)",padding:"8px 20px",borderRadius:"10px",fontSize:"12px",fontWeight:"800",letterSpacing:"0.5px"},children:"VIEW DETAILS"})]})]},t._id))})})]})]}),e.jsx(C,{children:m&&e.jsx(q,{item:m,onClose:()=>b(null),onApproveReject:D})})]})]})};export{ee as default};
