import{b as i,a5 as Ye,j as e,K as Je,O as fe,Q as q,C as ie,J as Y,a6 as He,P as Ke,V as Ge,H as me,l as ye,a7 as Xe,f as Qe,X as Ze,E as et}from"./vendor-BXfTzn-0.js";import{b as tt,i as f}from"./index-rgLvrAVa.js";import{u as ne,w as rt}from"./excel-CRHyTskB.js";import{S as it}from"./SEO-ImUizoVI.js";const N=({title:o,onClose:c,children:g})=>e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(5, 8, 15, 0.9)",zIndex:1e4,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",backdropFilter:"blur(12px)"},children:e.jsxs("div",{className:"premium-glass",style:{width:"100%",maxWidth:"580px",padding:"35px",maxHeight:"90vh",overflowY:"auto",borderRadius:"32px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[e.jsx("h2",{style:{color:"white",fontSize:"24px",margin:0,fontWeight:"900",letterSpacing:"-0.5px"},children:o}),e.jsx("button",{onClick:c,style:{background:"rgba(255,255,255,0.05)",color:"white",height:"40px",width:"40px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s"},children:e.jsx(Ze,{size:22})})]}),g]})}),s=({label:o,value:c,onChange:g,type:L="text",required:J=!1,autoComplete:H="off",placeholder:B="",inputMode:W="text"})=>e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"700",letterSpacing:"0.5px",marginBottom:"10px",display:"block"},children:o}),e.jsx("input",{type:L,className:"input-field",required:J,value:c||"",onChange:K=>g(K.target.value),autoComplete:H,placeholder:B,inputMode:W,style:{height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",fontSize:"15px"}})]}),A=({disabled:o,text:c,message:g})=>e.jsxs("div",{style:{marginTop:"25px"},children:[g?.text&&e.jsxs("div",{style:{padding:"15px",borderRadius:"16px",fontSize:"14px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"12px",background:g.type==="success"?"rgba(16, 185, 129, 0.1)":"rgba(244, 63, 94, 0.1)",color:g.type==="success"?"#10b981":"#f43f5e",border:`1px solid ${g.type==="success"?"rgba(16, 185, 129, 0.1)":"rgba(244, 63, 94, 0.1)"}`},children:[g.type==="success"?e.jsx(et,{size:20}):e.jsx(ye,{size:20}),e.jsx("span",{style:{fontWeight:"600"},children:g.text})]}),e.jsx("button",{type:"submit",disabled:o,className:"btn-primary",style:{width:"100%",height:"58px",borderRadius:"16px",fontSize:"16px",fontWeight:"800",textTransform:"uppercase",letterSpacing:"1px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:o?e.jsx("div",{className:"spinner",style:{width:"20px",height:"20px",borderTopColor:"white"}}):c})]}),lt=()=>{const{selectedCompany:o}=tt(),[c,g]=i.useState([]),[L,J]=i.useState([]),[H,B]=i.useState(!0),[W,K]=i.useState(""),[be,F]=i.useState(!1),[je,G]=i.useState(!1),[ve,X]=i.useState(!1),[Se,Q]=i.useState(!1),[y,Z]=i.useState(null),[ae,se]=i.useState(null),[d,oe]=i.useState("All"),[R,we]=i.useState([]),[ee,ke]=i.useState([]),[De,te]=i.useState(!1),[Ie,ze]=i.useState(!1),[D,re]=i.useState({documentType:"Driving License",expiryDate:""}),[le,de]=i.useState(null),We=Ye(),[C,pe]=i.useState(We.state?.tab||"personnel"),[b,O]=i.useState({name:"",mobile:"",licenseNumber:"",dailyWage:""}),[j,E]=i.useState({name:"",mobile:"",licenseNumber:"",dailyWage:""}),[m,I]=i.useState({vehicleId:"",km:"",date:new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toISOString().slice(0,10),time:new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toISOString().slice(0,16),pickUpLocation:""}),[l,v]=i.useState({km:"",time:new Date().toISOString().slice(0,16),fuelAmount:"0",parkingAmount:"0",review:"",dailyWage:"",dropLocation:""}),[p,z]=i.useState({amount:"",remark:"",date:new Date().toISOString().slice(0,10),advanceType:"Office",givenBy:"Office"}),Ce=()=>{const t=new Date;return t.setDate(t.getDate()-180),t.toISOString().split("T")[0]},Te=()=>new Date().toISOString().split("T")[0],[_,Ne]=i.useState(Ce()),[$,Ae]=i.useState(Te()),[T,u]=i.useState(!1),[Re,Oe]=i.useState(""),[M,x]=i.useState({type:"",text:""}),P=i.useCallback(async()=>{if(o?._id)try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:r}=await f.get(`/api/admin/reports/${o._id}?from=${_}&to=${$}`,{headers:{Authorization:`Bearer ${t.token}`}});we((r.attendance||[]).filter(n=>n.driver?.isFreelancer))}catch(t){console.error("Logistic error:",t)}},[o,_,$]),U=i.useCallback(async()=>{if(o?._id)try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:r}=await f.get(`/api/admin/advances/${o._id}?isFreelancer=true`,{headers:{Authorization:`Bearer ${t.token}`}});ke(r||[])}catch(t){console.error("Logistic error:",t)}},[o]),k=i.useCallback(async()=>{if(o?._id){B(!0);try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:r}=await f.get(`/api/admin/drivers/${o._id}?isFreelancer=true&usePagination=false`,{headers:{Authorization:`Bearer ${t.token}`}});g(r.drivers||[])}catch(t){console.error("Logistic error:",t)}finally{B(!1)}}},[o]),V=i.useCallback(async()=>{if(o?._id)try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:r}=await f.get(`/api/admin/vehicles/${o._id}?usePagination=false`,{headers:{Authorization:`Bearer ${t.token}`}});J(r.vehicles||[])}catch(t){console.error("Logistic error:",t)}},[o]);i.useEffect(()=>{o&&(k(),V(),P(),U())},[o,_,$,k,V,P,U]);const Ee=async t=>{t.preventDefault(),u(!0);try{const r=JSON.parse(localStorage.getItem("userInfo"));await f.post("/api/admin/drivers",{...b,companyId:o._id,isFreelancer:!0},{headers:{Authorization:`Bearer ${r.token}`}}),x({type:"success",text:"Freelancer added successfully!"}),setTimeout(()=>{F(!1),O({name:"",mobile:"",licenseNumber:"",dailyWage:""}),x({type:"",text:""}),k()},1e3)}catch(r){x({type:"error",text:r.response?.data?.message||"Failed"})}finally{u(!1)}},Le=async t=>{t.preventDefault(),u(!0);try{const r=JSON.parse(localStorage.getItem("userInfo"));await f.post("/api/admin/freelancers/punch-in",{...m,driverId:y._id},{headers:{Authorization:`Bearer ${r.token}`}}),X(!1);const n=new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toISOString();I({vehicleId:"",km:"",date:n.slice(0,10),time:n.slice(0,16),pickUpLocation:""}),k(),V(),P()}catch(r){alert(r.response?.data?.message||"Error")}finally{u(!1)}},Be=async t=>{t.preventDefault(),u(!0);try{const r=JSON.parse(localStorage.getItem("userInfo"));await f.post("/api/admin/freelancers/punch-out",{...l,driverId:y._id},{headers:{Authorization:`Bearer ${r.token}`}}),Q(!1);const n=new Date().toISOString().slice(0,16);v({km:"",time:n,fuelAmount:"0",parkingAmount:"0",review:"",dailyWage:"",dropLocation:""}),k(),V(),P()}catch(r){alert(r.response?.data?.message||"Error")}finally{u(!1)}},Fe=async t=>{if(t.preventDefault(),!le)return alert("Please select a file");u(!0);try{const r=JSON.parse(localStorage.getItem("userInfo")),n=new FormData;n.append("document",le),n.append("documentType",D.documentType),D.expiryDate&&n.append("expiryDate",D.expiryDate),await f.post(`/api/admin/drivers/${y._id}/documents`,n,{headers:{Authorization:`Bearer ${r.token}`,"Content-Type":"multipart/form-data"}}),x({type:"success",text:"Document uploaded!"}),k(),re({documentType:"Driving License",expiryDate:""}),de(null),setTimeout(()=>x({type:"",text:""}),2e3)}catch(r){x({type:"error",text:r.response?.data?.message||"Upload failed"})}finally{u(!1)}},_e=async t=>{if(window.confirm("Are you sure you want to delete this transaction record?"))try{const r=JSON.parse(localStorage.getItem("userInfo"));await f.delete(`/api/admin/advances/${t}`,{headers:{Authorization:`Bearer ${r.token}`}}),U(),x({type:"success",text:"Transaction deleted successfully"}),setTimeout(()=>x({type:"",text:""}),2e3)}catch(r){alert(r.response?.data?.message||"Error deleting transaction")}},$e=async t=>{t.preventDefault(),u(!0);try{const r=JSON.parse(localStorage.getItem("userInfo"));await f.post("/api/admin/advances",{...p,driverId:y._id,companyId:o._id},{headers:{Authorization:`Bearer ${r.token}`}}),te(!1),z({amount:"",remark:"",date:new Date().toISOString().slice(0,10),advanceType:"Office",givenBy:"Office"}),U(),x({type:"success",text:"Advance payment recorded!"}),setTimeout(()=>x({type:"",text:""}),3e3)}catch(r){alert(r.response?.data?.message||"Failed to add advance")}finally{u(!1)}},Me=async t=>{t.preventDefault(),u(!0);try{const r=JSON.parse(localStorage.getItem("userInfo"));await f.put(`/api/admin/drivers/${ae._id}`,j,{headers:{Authorization:`Bearer ${r.token}`}}),x({type:"success",text:"Freelancer updated successfully!"}),setTimeout(()=>{G(!1),se(null),x({type:"",text:""}),k()},1e3)}catch(r){x({type:"error",text:r.response?.data?.message||"Update failed"})}finally{u(!1)}},Pe=t=>{se(t),E({name:t.name,mobile:t.mobile,licenseNumber:t.licenseNumber||"",dailyWage:t.dailyWage||""}),G(!0)},Ue=async t=>{if(window.confirm("Delete this freelancer?"))try{const r=JSON.parse(localStorage.getItem("userInfo"));await f.delete(`/api/admin/drivers/${t}`,{headers:{Authorization:`Bearer ${r.token}`}}),k()}catch(r){console.error(r),alert("Error deleting")}},ce=c.filter(t=>d==="All"||t._id===d),xe=ce.filter(t=>t.tripStatus==="active"),ge=ce.filter(t=>t.tripStatus!=="active").filter(t=>t.name?.toLowerCase().includes(W.toLowerCase())||t.mobile?.includes(W)||t.licenseNumber?.toLowerCase().includes(W.toLowerCase())),S=R.filter(t=>d==="All"||t.driver?._id===d||t.driver===d),ue=S.reduce((t,r)=>t+(Number(r.dailyWage)||0),0),he=ee.filter(t=>d==="All"?!0:t.driver?._id===d||t.driver===d).reduce((t,r)=>t+r.amount,0),Ve=ue-he;d==="All"||c.find(t=>t._id===d)?.name,[...new Set(R.map(t=>t.pickUpLocation).filter(Boolean))].sort(),[...new Set(R.map(t=>t.dropLocation).filter(Boolean))].sort();const qe=()=>{if(S.length===0)return alert("No data to download");const t=S.map(a=>({Date:a.date,"Driver Name":a.driver?.name||"N/A",Car:a.vehicle?.carNumber?a.vehicle.carNumber.slice(-4):"N/A","In Time":a.punchIn?.time?new Date(a.punchIn.time).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):"-","Out Time":a.punchOut?.time?new Date(a.punchOut.time).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):"-","Total KM":a.punchOut?.km-a.punchIn?.km||0,"Pick-up":a.pickUpLocation||"-",Drop:a.dropLocation||"-",Salary:a.dailyWage||0,Fuel:a.fuel?.amount||0,"Parking/Toll":a.punchOut?.tollParkingAmount||0,Remarks:a.punchOut?.remarks||""})),r=ne.json_to_sheet(t),n=ne.book_new();ne.book_append_sheet(n,r,"Freelancer Duties"),rt(n,`Freelancer_Report_${new Date().toLocaleDateString()}.xlsx`)};return e.jsxs("div",{className:"container-fluid",style:{paddingBottom:"40px"},children:[e.jsx(it,{title:"Freelancer Fleet Network",description:"Onboard and manage freelance drivers for temporary duties and peak demand management."}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",gap:"20px",marginBottom:"32px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{flex:1,minWidth:"300px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"10px"},children:[e.jsx("div",{style:{width:"4px",height:"28px",background:"#6366f1",borderRadius:"10px"}}),e.jsxs("h1",{style:{fontSize:"36px",fontWeight:"900",margin:0,color:"white",letterSpacing:"-1.5px"},children:["Fleet ",e.jsx("span",{style:{color:"#6366f1"},children:"Elite"})]})]}),e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",margin:0,fontSize:"14px",fontWeight:"600"},children:"Manage on-demand professional drivers and logistics"})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx(Je,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"rgba(255,255,255,0.3)"}}),e.jsx("input",{type:"text",placeholder:"Find personnel...",value:W,onChange:t=>K(t.target.value),style:{height:"50px",width:"260px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"16px",padding:"0 16px 0 46px",color:"white",fontSize:"14px",transition:"all 0.3s ease"}})]}),e.jsxs("button",{onClick:()=>F(!0),className:"btn-primary",style:{height:"50px",padding:"0 28px",borderRadius:"16px",display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",fontWeight:"800"},children:[e.jsx(fe,{size:20})," ADD FREELANCER"]})]})]}),e.jsx("div",{className:"premium-glass",style:{padding:"28px",borderRadius:"32px",border:"1px solid rgba(255,255,255,0.06)",background:"linear-gradient(135deg, rgba(15, 23, 42, 0.4), rgba(15, 23, 42, 0.2))",marginBottom:"40px",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"25px"},children:[e.jsx("div",{style:{display:"flex",background:"rgba(5, 8, 15, 0.4)",padding:"6px",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.05)",minWidth:"fit-content"},children:[{id:"personnel",label:"Drivers",icon:e.jsx(q,{size:16})},{id:"logistics",label:"Duties",icon:e.jsx(ie,{size:16})},{id:"accounts",label:"Financials",icon:e.jsx(Y,{size:16})}].map(t=>e.jsxs("button",{onClick:()=>pe(t.id),style:{display:"flex",alignItems:"center",gap:"10px",padding:"12px 28px",borderRadius:"16px",border:"none",background:C===t.id?"linear-gradient(135deg, #6366f1, #4f46e5)":"transparent",color:C===t.id?"white":"rgba(255,255,255,0.4)",cursor:"pointer",fontSize:"13px",fontWeight:"800",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:C===t.id?"0 10px 20px rgba(99, 102, 241, 0.3)":"none"},children:[t.icon," ",e.jsx("span",{style:{letterSpacing:"0.5px"},children:t.label.toUpperCase()})]},t.id))}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flexWrap:"wrap",flex:1,justifyContent:"flex-end"},children:[e.jsxs("div",{style:{position:"relative",flex:"1",maxWidth:"280px",minWidth:"200px"},children:[e.jsx("div",{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#6366f1",display:"flex",alignItems:"center"},children:e.jsx(He,{size:14})}),e.jsxs("select",{value:d,onChange:t=>oe(t.target.value),style:{width:"100%",background:"rgba(15, 23, 42, 0.4)",color:"white",border:"1px solid rgba(255,255,255,0.08)",padding:"12px 18px 12px 42px",borderRadius:"16px",fontSize:"13px",fontWeight:"700",outline:"none",height:"52px",appearance:"none",cursor:"pointer"},children:[e.jsx("option",{value:"All",style:{background:"#0f172a"},children:"All Personnel"}),c.map(t=>e.jsx("option",{value:t._id,style:{background:"#0f172a"},children:t.name.split(" (F)")[0]},t._id))]}),e.jsx("div",{style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",color:"rgba(255,255,255,0.2)"},children:e.jsx(fe,{size:14,style:{transform:"rotate(45deg)"}})})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",background:"rgba(15, 23, 42, 0.4)",padding:"6px 16px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.08)",height:"52px"},children:[e.jsx("input",{type:"date",value:_,onChange:t=>Ne(t.target.value),style:{background:"transparent",color:"white",border:"none",fontSize:"12px",fontWeight:"800",outline:"none",padding:"0 8px"}}),e.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)",margin:"0 10px"}}),e.jsx("input",{type:"date",value:$,onChange:t=>Ae(t.target.value),style:{background:"transparent",color:"white",border:"none",fontSize:"12px",fontWeight:"800",outline:"none",padding:"0 8px"}})]}),e.jsx("button",{onClick:qe,style:{height:"52px",width:"52px",borderRadius:"16px",background:"rgba(16,185,129,0.1)",color:"#10b981",border:"1px solid rgba(16,185,129,0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:t=>t.currentTarget.style.background="rgba(16,185,129,0.2)",onMouseLeave:t=>t.currentTarget.style.background="rgba(16,185,129,0.1)",title:"Export Reports",children:e.jsx(Y,{size:20})})]})]})}),e.jsxs("div",{style:{position:"relative",minHeight:"600px"},children:[C==="personnel"&&e.jsxs("div",{style:{animation:"fadeIn 0.5s ease"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"32px"},children:[e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"20px",padding:"20px"},children:[e.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",margin:"0 0 6px 0"},children:"Total Network"}),e.jsx("h3",{style:{color:"white",fontSize:"28px",fontWeight:"900",margin:0},children:c.length})]}),e.jsxs("div",{style:{background:"rgba(16,185,129,0.05)",border:"1px solid rgba(16,185,129,0.1)",borderRadius:"20px",padding:"20px"},children:[e.jsx("p",{style:{color:"rgba(16,185,129,0.7)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",margin:"0 0 6px 0"},children:"Available"}),e.jsx("h3",{style:{color:"#10b981",fontSize:"28px",fontWeight:"900",margin:0},children:ge.length})]}),e.jsxs("div",{style:{background:"rgba(244,63,94,0.05)",border:"1px solid rgba(244,63,94,0.1)",borderRadius:"20px",padding:"20px"},children:[e.jsx("p",{style:{color:"#f43f5e",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",margin:"0 0 6px 0"},children:"On Duty"}),e.jsx("h3",{style:{color:"#f43f5e",fontSize:"28px",fontWeight:"900",margin:0},children:xe.length})]}),e.jsxs("div",{style:{background:"rgba(99,102,241,0.05)",border:"1px solid rgba(99,102,241,0.1)",borderRadius:"20px",padding:"20px"},children:[e.jsx("p",{style:{color:"#818cf8",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",margin:"0 0 6px 0"},children:"Company Docs"}),e.jsx("h3",{style:{color:"#818cf8",fontSize:"28px",fontWeight:"900",margin:0},children:c.filter(t=>t.documents?.length>0).length})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:H?e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",textAlign:"center",gridColumn:"1/-1",padding:"60px"},children:"Loading professional network..."}):c.length===0?e.jsxs("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"80px 40px",background:"rgba(255,255,255,0.02)",borderRadius:"32px",border:"2px dashed rgba(255,255,255,0.05)"},children:[e.jsx(q,{size:40,style:{color:"rgba(255,255,255,0.1)",marginBottom:"20px"}}),e.jsx("h3",{style:{color:"white",fontWeight:"800"},children:"No Freelancers Recorded"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.3)",marginBottom:"30px"},children:"Expand your fleet by adding professional on-demand drivers."}),e.jsx("button",{onClick:()=>F(!0),className:"btn-primary",style:{padding:"12px 32px",borderRadius:"16px"},children:"REGISTER FIRST DRIVER"})]}):[...xe,...ge].map(t=>{const r=t.tripStatus==="active",n=R.filter(a=>a.driver?._id===t._id||a.driver===t._id).length;return e.jsxs("div",{className:"premium-glass",style:{borderRadius:"24px",border:t._id===d?"2px solid #6366f1":r?"1px solid rgba(244,63,94,0.25)":"1px solid rgba(255,255,255,0.07)",padding:"24px",display:"flex",flexDirection:"column",gap:"18px",transition:"all 0.3s ease"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"18px",flexShrink:0,background:r?"rgba(244,63,94,0.1)":"rgba(255,255,255,0.03)",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(q,{size:26,style:{color:r?"#f43f5e":"white"}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"8px"},children:[e.jsx("h4",{style:{color:"white",margin:0,fontSize:"17px",fontWeight:"800",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name.split(" (F)")[0]}),e.jsx("span",{style:{fontSize:"9px",padding:"4px 10px",borderRadius:"100px",fontWeight:"900",background:r?"rgba(244,63,94,0.15)":"rgba(16,185,129,0.15)",color:r?"#f43f5e":"#10b981",flexShrink:0},children:r?"● ON MISSION":"○ STANDBY"})]}),e.jsxs("a",{href:`tel:${t.mobile}`,style:{color:"rgba(255,255,255,0.4)",fontSize:"13px",textDecoration:"none",display:"flex",alignItems:"center",gap:"6px",fontWeight:"700",marginTop:"4px"},children:[e.jsx(Ke,{size:12})," ",t.mobile]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.04)"},children:[e.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontSize:"9px",fontWeight:"800",textTransform:"uppercase",margin:"0 0 4px 0"},children:"Daily Pay"}),e.jsxs("p",{style:{color:"white",fontWeight:"900",fontSize:"16px",margin:0},children:["₹",t.dailyWage||0]})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.04)",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontSize:"9px",fontWeight:"800",textTransform:"uppercase",margin:"0 0 4px 0"},children:"Duties"}),e.jsx("p",{style:{color:"#818cf8",fontWeight:"900",fontSize:"16px",margin:0},children:n})]}),e.jsx("button",{onClick:()=>{oe(t._id),pe("logistics")},style:{padding:"4px 8px",borderRadius:"6px",fontSize:"9px",fontWeight:"900",background:"rgba(99,102,241,0.1)",color:"#818cf8",border:"1px solid rgba(99,102,241,0.2)",cursor:"pointer"},children:"HISTORY"})]})]}),r&&e.jsxs("div",{style:{background:"rgba(14,165,233,0.08)",padding:"12px 16px",borderRadius:"14px",border:"1px solid rgba(14,165,233,0.15)",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(ie,{size:16,style:{color:"#0ea5e9"}}),e.jsxs("div",{children:[e.jsx("p",{style:{color:"rgba(14,165,233,0.7)",fontSize:"9px",fontWeight:"800",margin:"0 0 2px 0"},children:"CURRENT VEHICLE"}),e.jsx("p",{style:{color:"white",fontWeight:"800",fontSize:"13px",margin:0},children:t.assignedVehicle?.carNumber?.split("#")[0]||"---"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"6px"},children:[r?e.jsx("button",{onClick:()=>{Z(t),v({...l,km:"",time:new Date().toISOString().slice(0,16),dailyWage:t.dailyWage||""}),Q(!0)},className:"btn-primary",style:{flex:1,height:"44px",background:"#f43f5e",fontSize:"11px",fontWeight:"900",borderRadius:"12px"},children:"FINISH DUTY"}):e.jsx("button",{onClick:()=>{Z(t),I({...m,time:new Date().toISOString().slice(0,16),date:new Date().toISOString().split("T")[0]}),X(!0)},className:"btn-primary",style:{flex:1,height:"44px",fontSize:"11px",fontWeight:"900",borderRadius:"12px"},children:"ASSIGN DUTY"}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{onClick:()=>{Z(t),te(!0)},style:{width:"44px",height:"44px",borderRadius:"12px",background:"rgba(16,185,129,0.1)",color:"#10b981",border:"1px solid rgba(16,185,129,0.2)",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:e.jsx(Y,{size:18,style:{transform:"rotate(180deg)"}})}),e.jsx("button",{onClick:()=>Pe(t),style:{width:"44px",height:"44px",borderRadius:"12px",background:"rgba(255,255,255,0.03)",color:"rgba(255,255,255,0.6)",border:"1px solid rgba(255,255,255,0.08)",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:e.jsx(Ge,{size:16})}),e.jsx("button",{onClick:()=>Ue(t._id),style:{width:"44px",height:"44px",borderRadius:"12px",background:"rgba(244,63,94,0.05)",color:"#f43f5e",border:"1px solid rgba(244,63,94,0.15)",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:e.jsx(me,{size:16})})]})]})]},t._id)})})]}),C==="accounts"&&e.jsx("div",{style:{animation:"fadeIn 0.5s ease"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:"30px",alignItems:"start"},children:[e.jsxs("div",{className:"premium-glass",style:{borderRadius:"28px",border:"1px solid rgba(255,255,255,0.06)",overflow:"hidden",background:"rgba(15, 23, 42, 0.3)"},children:[e.jsxs("div",{style:{padding:"25px 30px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.02)"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,color:"white",fontSize:"18px",fontWeight:"900",letterSpacing:"-0.5px"},children:"Financial Ledger"}),e.jsx("p",{style:{margin:"4px 0 0 0",color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"700"},children:"Comprehensive flow of earnings and advances"})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"10px",fontWeight:"800",color:"#10b981",background:"rgba(16, 185, 129, 0.1)",padding:"5px 10px",borderRadius:"8px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#10b981"}})," EARNINGS"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"10px",fontWeight:"800",color:"#f43f5e",background:"rgba(244, 63, 94, 0.1)",padding:"5px 10px",borderRadius:"8px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#f43f5e"}})," ADVANCES"]})]})]}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"rgba(5, 8, 15, 0.2)"},children:[e.jsx("th",{style:{padding:"18px 25px",fontSize:"10px",color:"rgba(255,255,255,0.3)",textTransform:"uppercase",textAlign:"left",fontWeight:"900",letterSpacing:"1px"},children:"Timeline"}),e.jsx("th",{style:{padding:"18px 25px",fontSize:"10px",color:"rgba(255,255,255,0.3)",textTransform:"uppercase",textAlign:"left",fontWeight:"900",letterSpacing:"1px"},children:"Entity / Description"}),e.jsx("th",{style:{padding:"18px 25px",fontSize:"10px",color:"rgba(255,255,255,0.3)",textTransform:"uppercase",textAlign:"right",fontWeight:"900",letterSpacing:"1px"},children:"Transaction"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"right"}})]})}),e.jsx("tbody",{children:(()=>{const t=[...S.map(r=>({id:r._id,date:r.date,type:"EARNING",amount:Number(r.dailyWage)||0,description:`Duty: ${r.pickUpLocation||"Trip"} ➜ ${r.dropLocation||"End"}`,driver:r.driver?.name,remark:r.vehicle?.carNumber?.split("#")[0],givenBy:"System"})),...ee.filter(r=>d==="All"||r.driver?._id===d).map(r=>({id:r._id,date:r.date,type:"ADVANCE",amount:r.amount,description:r.remark||"Advance Payment",driver:r.driver?.name,remark:r.advanceType,givenBy:r.givenBy||"Office"}))].sort((r,n)=>new Date(n.date)-new Date(r.date));return t.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",style:{padding:"80px 0",textAlign:"center"},children:[e.jsx(ye,{size:32,style:{color:"rgba(255,255,255,0.1)",marginBottom:"15px"}}),e.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontSize:"13px",fontWeight:"700"},children:"No financial activity for this selection."})]})}):t.map(r=>e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)",transition:"background 0.3s"},className:"ledger-row",children:[e.jsxs("td",{style:{padding:"18px 25px"},children:[e.jsx("div",{style:{color:"white",fontWeight:"800",fontSize:"13px"},children:new Date(r.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),e.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"10px",fontWeight:"700",marginTop:"2px"},children:new Date(r.date).getFullYear()})]}),e.jsx("td",{style:{padding:"18px 25px"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[e.jsx("span",{style:{color:"white",fontWeight:"800",fontSize:"14px"},children:r.driver||"---"}),e.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"600"},children:r.description}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"4px"},children:[e.jsxs("span",{style:{fontSize:"9px",color:"#6366f1",fontWeight:"900",textTransform:"uppercase"},children:["Ref: ",r.remark||"N/A"]}),e.jsxs("span",{style:{fontSize:"9px",color:"rgba(255,255,255,0.2)",fontWeight:"900",textTransform:"uppercase"},children:["By: ",r.givenBy]})]})]})}),e.jsxs("td",{style:{padding:"18px 25px",textAlign:"right"},children:[e.jsxs("div",{style:{color:r.type==="EARNING"?"#10b981":"#f43f5e",fontWeight:"900",fontSize:"18px",letterSpacing:"-0.5px"},children:[r.type==="EARNING"?"+":"-","₹",r.amount.toLocaleString()]}),e.jsx("div",{style:{fontSize:"9px",fontWeight:"900",color:r.type==="EARNING"?"rgba(16, 185, 129, 0.4)":"rgba(244, 63, 94, 0.4)",textTransform:"uppercase"},children:r.type==="EARNING"?"CREDIT":"DEBIT"})]}),e.jsx("td",{style:{padding:"18px 25px",textAlign:"right"},children:r.type==="ADVANCE"&&e.jsx("button",{onClick:()=>_e(r.id),style:{background:"rgba(244, 63, 94, 0.05)",border:"1px solid rgba(244, 63, 94, 0.1)",color:"#f43f5e",padding:"8px",borderRadius:"10px",cursor:"pointer"},children:e.jsx(me,{size:13})})})]},r.id))})()})]})})]}),e.jsxs("div",{style:{display:"grid",gap:"25px"},children:[e.jsxs("div",{className:"premium-glass",style:{padding:"30px",borderRadius:"28px",border:"1px solid #10b98144",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.05), transparent)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981",boxShadow:"0 0 10px #10b981"}}),e.jsx("p",{style:{color:"#10b981",fontSize:"11px",margin:0,fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Net Settlement Due"})]}),e.jsxs("h2",{style:{color:"white",fontSize:"42px",margin:0,fontWeight:"900",letterSpacing:"-2px"},children:[e.jsx("span",{style:{fontSize:"24px",opacity:.3,marginRight:"8px",fontWeight:"400"},children:"₹"}),Ve.toLocaleString()]}),e.jsxs("div",{style:{marginTop:"25px",display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"12px",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.4)",fontWeight:"600"},children:"Total Earned"}),e.jsxs("span",{style:{fontSize:"14px",color:"#10b981",fontWeight:"800"},children:["+₹",ue.toLocaleString()]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.4)",fontWeight:"600"},children:"Total Advanced"}),e.jsxs("span",{style:{fontSize:"14px",color:"#f43f5e",fontWeight:"800"},children:["-₹",he.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"premium-glass",style:{padding:"25px",borderRadius:"28px",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(5, 8, 15, 0.4)"},children:[e.jsxs("h4",{style:{color:"white",fontSize:"14px",margin:"0 0 20px 0",fontWeight:"900",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(q,{size:16,style:{color:"#6366f1"}})," BALANCES PER DRIVER"]}),e.jsx("div",{style:{display:"grid",gap:"12px",maxHeight:"400px",overflowY:"auto",paddingRight:"5px"},children:c.map(t=>{const r=R.filter(h=>h.driver?._id===t._id||h.driver===t._id).reduce((h,w)=>h+(Number(w.dailyWage)||0),0),n=ee.filter(h=>h.driver?._id===t._id||h.driver===t._id).reduce((h,w)=>h+w.amount,0),a=r-n;return r===0&&n===0?null:e.jsxs("div",{style:{padding:"15px",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.03)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"white",fontSize:"13px",fontWeight:"800",margin:"0 0 2px 0"},children:t.name.split(" (F)")[0]}),e.jsxs("p",{style:{color:"rgba(255,255,255,0.2)",fontSize:"10px",fontWeight:"700",margin:0},children:["E: ₹",r.toLocaleString()," | A: ₹",n.toLocaleString()]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("p",{style:{color:a>=0?"#10b981":"#f43f5e",fontSize:"15px",fontWeight:"900",margin:0},children:["₹",a.toLocaleString()]}),e.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"rgba(255,255,255,0.2)"},children:"NET DUE"})]})]},t._id)}).filter(Boolean)})]})]})]})}),C==="logistics"&&e.jsxs("div",{style:{animation:"fadeIn 0.5s ease"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"28px"},children:[e.jsxs("div",{style:{background:"rgba(16,185,129,0.07)",border:"1px solid rgba(16,185,129,0.18)",borderRadius:"16px",padding:"18px 20px"},children:[e.jsx("p",{style:{color:"rgba(16,185,129,0.7)",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",margin:"0 0 4px 0"},children:"Total Duties"}),e.jsx("h3",{style:{color:"white",fontSize:"26px",fontWeight:"900",margin:0},children:S.length})]}),e.jsxs("div",{style:{background:"rgba(14,165,233,0.07)",border:"1px solid rgba(14,165,233,0.18)",borderRadius:"16px",padding:"18px 20px"},children:[e.jsx("p",{style:{color:"rgba(14,165,233,0.7)",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",margin:"0 0 4px 0"},children:"Total KM"}),e.jsx("h3",{style:{color:"white",fontSize:"26px",fontWeight:"900",margin:0},children:S.reduce((t,r)=>t+(r.totalKM||r.punchOut?.km-r.punchIn?.km||0),0).toLocaleString()})]}),e.jsxs("div",{style:{background:"rgba(245,158,11,0.07)",border:"1px solid rgba(245,158,11,0.18)",borderRadius:"16px",padding:"18px 20px"},children:[e.jsx("p",{style:{color:"rgba(245,158,11,0.7)",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",margin:"0 0 4px 0"},children:"Total Earned"}),e.jsxs("h3",{style:{color:"white",fontSize:"26px",fontWeight:"900",margin:0},children:["₹",S.reduce((t,r)=>t+(Number(r.dailyWage)||0),0).toLocaleString()]})]})]}),S.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",background:"rgba(255,255,255,0.02)",border:"1px dashed rgba(255,255,255,0.08)",borderRadius:"20px"},children:[e.jsx(ie,{size:40,style:{color:"rgba(255,255,255,0.15)",marginBottom:"16px"}}),e.jsx("p",{style:{color:"rgba(255,255,255,0.35)",fontSize:"14px",fontWeight:"700"},children:"No duty records found for selected period"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.2)",fontSize:"12px",marginTop:"6px"},children:"Try changing the date range or driver filter"})]}):e.jsx("div",{style:{display:"grid",gap:"14px"},children:S.map(t=>{const r=t.date||(t.punchIn?.time?new Date(t.punchIn.time).toISOString().split("T")[0]:null),n=t.punchIn?.time?new Date(t.punchIn.time).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):"--:--",a=t.punchOut?.time?new Date(t.punchOut.time).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):null,h=t.totalKM||(t.punchOut?.km&&t.punchIn?.km?t.punchOut.km-t.punchIn.km:0),w=t.status==="completed"||!!t.punchOut?.time;return e.jsxs("div",{style:{background:"rgba(25,28,35,0.7)",borderRadius:"18px",border:`1px solid ${w?"rgba(16,185,129,0.15)":"rgba(245,158,11,0.2)"}`,padding:"20px 24px",display:"flex",gap:"20px",alignItems:"flex-start",flexWrap:"wrap"},children:[e.jsxs("div",{style:{background:"rgba(99,102,241,0.1)",border:"1px solid rgba(99,102,241,0.2)",borderRadius:"14px",padding:"12px 16px",textAlign:"center",minWidth:"70px",flexShrink:0},children:[e.jsx("p",{style:{color:"#818cf8",fontSize:"10px",fontWeight:"900",margin:"0 0 2px 0",textTransform:"uppercase"},children:r?new Date(r).toLocaleString("default",{month:"short"}):"---"}),e.jsx("p",{style:{color:"white",fontSize:"28px",fontWeight:"900",margin:"0",lineHeight:1},children:r?new Date(r+"T00:00:00").getDate():"--"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"700",margin:"2px 0 0 0"},children:r?new Date(r+"T00:00:00").getFullYear():""})]}),e.jsxs("div",{style:{flex:1,minWidth:"180px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",flexWrap:"wrap"},children:[e.jsx("h4",{style:{color:"white",margin:0,fontSize:"16px",fontWeight:"800"},children:t.driver?.name||"Unknown Driver"}),e.jsx("span",{style:{fontSize:"9px",padding:"3px 10px",borderRadius:"100px",fontWeight:"900",background:w?"rgba(16,185,129,0.12)":"rgba(245,158,11,0.12)",color:w?"#10b981":"#f59e0b"},children:w?"✓ COMPLETED":"⏳ ON DUTY"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981"}}),e.jsx("div",{style:{width:"1px",height:"14px",background:"rgba(255,255,255,0.15)"}}),e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#f43f5e"}})]}),e.jsxs("div",{children:[e.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"12px",margin:"0 0 8px 0"},children:t.pickUpLocation||"Start Point"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"12px",margin:0},children:t.dropLocation||(w?"N/A":"In Progress...")})]})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(Xe,{size:13,style:{color:"#10b981"}}),e.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"600"},children:n})]}),a&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(Qe,{size:13,style:{color:"#f43f5e"}}),e.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"600"},children:a})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",alignItems:"flex-end",flexShrink:0},children:[e.jsxs("div",{style:{background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.2)",padding:"8px 16px",borderRadius:"12px",textAlign:"center"},children:[e.jsx("p",{style:{color:"rgba(16,185,129,0.7)",fontSize:"9px",fontWeight:"800",margin:"0 0 2px 0"},children:"SALARY"}),e.jsxs("p",{style:{color:"#10b981",fontSize:"18px",fontWeight:"900",margin:0},children:["₹",t.dailyWage||0]})]}),e.jsxs("div",{style:{background:"rgba(14,165,233,0.08)",border:"1px solid rgba(14,165,233,0.15)",padding:"6px 14px",borderRadius:"10px",textAlign:"center"},children:[e.jsx("p",{style:{color:"rgba(14,165,233,0.7)",fontSize:"9px",fontWeight:"800",margin:"0 0 1px 0"},children:"VEHICLE"}),e.jsx("p",{style:{color:"#0ea5e9",fontSize:"13px",fontWeight:"800",margin:0},children:t.vehicle?.carNumber?.split("#")[0]||"N/A"})]}),h>0&&e.jsxs("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"700",margin:0},children:[h," KM"]})]})]},t._id)})})]})]}),e.jsxs("div",{children:[be&&e.jsx(N,{title:"Add New Freelancer",onClose:()=>F(!1),children:e.jsxs("form",{onSubmit:Ee,style:{display:"grid",gap:"20px"},children:[e.jsx(s,{label:"Full Name *",value:b.name,onChange:t=>O({...b,name:t}),required:!0}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(s,{label:"Mobile Number *",value:b.mobile,onChange:t=>O({...b,mobile:t}),required:!0}),e.jsx(s,{label:"License Number",value:b.licenseNumber,onChange:t=>O({...b,licenseNumber:t})})]}),e.jsx(s,{label:"Daily Wage (₹)",type:"number",value:b.dailyWage,onChange:t=>O({...b,dailyWage:t})}),e.jsx(A,{disabled:T,text:"Register Freelancer",message:M})]})}),je&&e.jsx(N,{title:`Edit Freelancer: ${ae?.name}`,onClose:()=>G(!1),children:e.jsxs("form",{onSubmit:Me,style:{display:"grid",gap:"20px"},children:[e.jsx(s,{label:"Full Name *",value:j.name,onChange:t=>E({...j,name:t}),required:!0}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(s,{label:"Mobile Number *",value:j.mobile,onChange:t=>E({...j,mobile:t}),required:!0}),e.jsx(s,{label:"License Number",value:j.licenseNumber,onChange:t=>E({...j,licenseNumber:t})})]}),e.jsx(s,{label:"Daily Wage (₹)",type:"number",value:j.dailyWage,onChange:t=>E({...j,dailyWage:t})}),e.jsx(A,{disabled:T,text:"Update Freelancer",message:M})]})}),ve&&e.jsx(N,{title:`Assign Duty: ${y?.name}`,onClose:()=>X(!1),children:e.jsxs("form",{onSubmit:Le,style:{display:"grid",gap:"25px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Select Vehicle *"}),e.jsx("input",{type:"text",list:"vehicle-list",className:"input-field",placeholder:"Type car number...",required:!0,value:Re,onChange:t=>{Oe(t.target.value);const r=L.find(n=>n.carNumber?.split("#")[0]?.toUpperCase()===t.target.value.toUpperCase());r&&I({...m,vehicleId:r._id})}}),e.jsx("datalist",{id:"vehicle-list",children:L.filter(t=>!t.currentDriver).map(t=>e.jsx("option",{value:t.carNumber?.split("#")[0],children:t.model},t._id))})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(s,{label:"Duty Date *",type:"date",value:m.date,onChange:t=>I({...m,date:t}),required:!0}),e.jsx(s,{label:"Punch-In Time *",type:"datetime-local",value:m.time,onChange:t=>I({...m,time:t}),required:!0})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(s,{label:"Starting KM *",type:"number",value:m.km,onChange:t=>I({...m,km:t}),required:!0}),e.jsx(s,{label:"Pick-up Location",value:m.pickUpLocation,onChange:t=>I({...m,pickUpLocation:t})})]}),e.jsx(A,{disabled:T,text:"Start Duty"})]})}),Se&&e.jsx(N,{title:`Duty Completion: ${y?.name}`,onClose:()=>Q(!1),children:e.jsxs("form",{onSubmit:Be,style:{display:"grid",gap:"20px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(s,{label:"Closing KM *",type:"number",value:l.km,onChange:t=>v({...l,km:t}),required:!0}),e.jsx(s,{label:"Drop Location",value:l.dropLocation,onChange:t=>v({...l,dropLocation:t})})]}),e.jsx(s,{label:"Punch-Out Time *",type:"datetime-local",value:l.time,onChange:t=>v({...l,time:t}),required:!0}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(s,{label:"Fuel Spent (₹)",type:"number",value:l.fuelAmount,onChange:t=>v({...l,fuelAmount:t})}),e.jsx(s,{label:"Parking/Toll (₹)",type:"number",value:l.parkingAmount,onChange:t=>v({...l,parkingAmount:t})})]}),e.jsx(s,{label:"Duty Salary (Wage) *",type:"number",value:l.dailyWage,onChange:t=>v({...l,dailyWage:t}),required:!0}),e.jsx(s,{label:"Remarks",value:l.review,onChange:t=>v({...l,review:t})}),e.jsx(A,{disabled:T,text:"Finish Duty"})]})}),De&&e.jsxs(N,{title:"Financial Disbursement",onClose:()=>te(!1),children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[e.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"24px",background:"rgba(16, 185, 129, 0.1)",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 15px",border:"1px solid rgba(16, 185, 129, 0.2)"},children:e.jsx(Y,{size:32,style:{color:"#10b981",transform:"rotate(180deg)"}})}),e.jsx("h3",{style:{color:"white",fontSize:"20px",fontWeight:"900",margin:"0 0 5px 0"},children:"Disburse Advance"}),e.jsxs("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"13px",margin:0},children:["Processing payment for ",e.jsx("span",{style:{color:"#6366f1",fontWeight:"800"},children:y?.name?.split(" (F)")[0]})]})]}),e.jsxs("form",{onSubmit:$e,style:{display:"grid",gap:"25px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"800",textTransform:"uppercase",marginBottom:"12px",display:"block"},children:"Payment Amount (₹) *"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("span",{style:{position:"absolute",left:"20px",top:"50%",transform:"translateY(-50%)",color:"#10b981",fontSize:"20px",fontWeight:"900"},children:"₹"}),e.jsx("input",{type:"number",className:"input-field",required:!0,value:p.amount,onChange:t=>z({...p,amount:t.target.value}),placeholder:"0.00",style:{paddingLeft:"45px",fontSize:"24px",fontWeight:"900",height:"70px",background:"rgba(5, 8, 15, 0.4)",border:"1px solid rgba(255,255,255,0.1)",color:"white",borderRadius:"20px"}})]}),e.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"15px"},children:[500,1e3,2e3,5e3].map(t=>e.jsxs("button",{type:"button",onClick:()=>z({...p,amount:t.toString()}),style:{flex:1,padding:"10px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(255,255,255,0.03)",color:"rgba(255,255,255,0.6)",fontSize:"11px",fontWeight:"900",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:r=>r.currentTarget.style.border="1px solid rgba(16, 185, 129, 0.3)",onMouseLeave:r=>r.currentTarget.style.border="1px solid rgba(255,255,255,0.05)",children:["+₹",t]},t))})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1fr",gap:"15px"},children:[e.jsx(s,{label:"Value Date *",type:"date",value:p.date,onChange:t=>z({...p,date:t}),required:!0}),e.jsx(s,{label:"Authorized By *",value:p.givenBy,onChange:t=>z({...p,givenBy:t}),required:!0})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"20px",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"15px"},children:"Classification"}),e.jsx("div",{style:{display:"flex",gap:"10px"},children:["Office","Staff","Other"].map(t=>e.jsx("button",{type:"button",onClick:()=>z({...p,advanceType:t}),style:{flex:1,padding:"12px",borderRadius:"14px",border:"none",background:p.advanceType===t?"rgba(99, 102, 241, 0.15)":"rgba(5, 8, 15, 0.3)",color:p.advanceType===t?"#818cf8":"rgba(255,255,255,0.3)",fontWeight:"900",fontSize:"12px",cursor:"pointer",border:p.advanceType===t?"1px solid rgba(99, 102, 241, 0.3)":"1px solid rgba(255,255,255,0.02)"},children:t.toUpperCase()},t))})]}),e.jsx(s,{label:"Transaction Reference / Remark",placeholder:"e.g. Fuel Advance, Emergency...",value:p.remark,onChange:t=>z({...p,remark:t})}),e.jsx(A,{disabled:T,text:"DISBURSE FUNDS",message:M})]})]}),Ie&&e.jsx(N,{title:`Documents: ${y?.name}`,onClose:()=>ze(!1),children:e.jsxs("div",{style:{display:"grid",gap:"25px"},children:[y?.documents?.map((t,r)=>e.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"15px",borderRadius:"12px",display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"white",fontWeight:"700",margin:0},children:t.documentType}),e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",margin:0},children:t.expiryDate?`Expires: ${new Date(t.expiryDate).toLocaleDateString()}`:"Lifetime"})]}),e.jsx("a",{href:t.imageUrl,target:"_blank",rel:"noreferrer",style:{color:"#6366f1",fontSize:"11px",fontWeight:"800"},children:"VIEW"})]},r)),e.jsxs("form",{onSubmit:Fe,style:{display:"grid",gap:"15px",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"20px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(s,{label:"Type",value:D.documentType,onChange:t=>re({...D,documentType:t})}),e.jsx(s,{label:"Expiry",type:"date",value:D.expiryDate,onChange:t=>re({...D,expiryDate:t})})]}),e.jsx("input",{type:"file",onChange:t=>de(t.target.files[0]),className:"input-field",style:{height:"48px",paddingTop:"10px"}}),e.jsx(A,{disabled:T,text:"Upload",message:M})]})]})})]})]})};export{lt as default};
