const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/xlsx.min-Ccxlft-Q.js","assets/vendor-CERFoa1q.js","assets/excel-C9b669kG.js"])))=>i.map(i=>d[i]);
import{b as ve,i as be,_ as V}from"./index-DpxOsZrU.js";import{b as y,j as e,z as X,m as T,Y as Q,I as C,c as J,F as je,W as Se,Z as Te,Q as we,M as Ne,q as ke,G as De,p as B,_ as Z,$ as ee,a0 as te,A as Ce,X as ze}from"./vendor-CERFoa1q.js";import{S as Ae}from"./SEO-CMj3KlKp.js";const We=({item:s,onClose:z,borderTaxRecords:A})=>e.jsxs("div",{className:"modal-overlay",children:[e.jsx("style",{children:`
            .grid-1-2-2-3 { display: grid; grid-template-columns: 1fr; }
            @media(min-width: 768px) { .grid-1-2-2-3 { grid-template-columns: 1fr 1fr; } }
            
            .grid-1-2-3-4 { display: grid; grid-template-columns: 1fr; }
            @media(min-width: 640px) { .grid-1-2-3-4 { grid-template-columns: 1fr 1fr; } }
            @media(min-width: 1024px) { .grid-1-2-3-4 { grid-template-columns: 1fr 1fr 1fr; } }
        `}),e.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"glass-card modal-content",style:{width:"100%",maxWidth:"900px",maxHeight:"92vh",overflowY:"auto"},children:[e.jsxs("div",{className:"modal-header",style:{position:"sticky",top:0,background:"var(--bg-dark)",zIndex:10,margin:"-20px -20px 20px -20px",padding:"15px 20px",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("h2",{className:"modal-title",children:["Report Detail: ",s.driver?.name]}),e.jsx("button",{onClick:z,className:"modal-close-btn",children:e.jsx(ze,{size:18})})]}),e.jsxs("div",{className:"grid-1-2-2-3",style:{gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("h3",{className:"modal-section-title",style:{borderColor:"#10b981"},children:"Punch In Details"}),e.jsxs("div",{className:"photo-grid",children:[e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"SELFIE"}),e.jsx("img",{src:s.punchIn?.selfie,className:"photo-thumbnail",onClick:()=>window.open(s.punchIn?.selfie),loading:"lazy"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"KM METER"}),e.jsx("img",{src:s.punchIn?.kmPhoto,className:"photo-thumbnail",onClick:()=>window.open(s.punchIn?.kmPhoto),loading:"lazy"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"CAR PHOTO"}),e.jsx("img",{src:s.punchIn?.carSelfie,className:"photo-thumbnail",onClick:()=>window.open(s.punchIn?.carSelfie),loading:"lazy"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"modal-section-title",style:{borderColor:"#f43f5e"},children:"Punch Out Details"}),s.punchOut?.time?e.jsxs("div",{className:"photo-grid",children:[e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"SELFIE"}),e.jsx("img",{src:s.punchOut?.selfie,className:"photo-thumbnail",onClick:()=>window.open(s.punchOut?.selfie),loading:"lazy"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"KM METER"}),e.jsx("img",{src:s.punchOut?.kmPhoto,className:"photo-thumbnail",onClick:()=>window.open(s.punchOut?.kmPhoto),loading:"lazy"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"photo-label",children:"CAR PHOTO"}),e.jsx("img",{src:s.punchOut?.carSelfie,className:"photo-thumbnail",onClick:()=>window.open(s.punchOut?.carSelfie),loading:"lazy"})]})]}):e.jsx("div",{style:{height:"80px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"var(--text-muted)",background:"rgba(255,255,255,0.02)",border:"1px dashed rgba(255,255,255,0.1)",borderRadius:"12px"},children:e.jsx("p",{style:{fontSize:"12px",margin:0,fontWeight:"600"},children:"Driver currently on road..."})})]})]}),e.jsxs("div",{className:"resp-grid grid-1-2-3-4",style:{marginTop:"25px",gap:"15px"},children:[e.jsxs("div",{className:"glass-card",style:{padding:"15px",background:"rgba(255,255,255,0.02)"},children:[e.jsx("p",{style:{fontSize:"9px",color:"var(--text-muted)",marginBottom:"12px",fontWeight:"800",textTransform:"uppercase"},children:"Fuel Management"}),s.fuel?.filled?e.jsx("div",{style:{display:"grid",gap:"10px"},children:s.fuel.entries&&s.fuel.entries.length>0?s.fuel.entries.map((p,v)=>e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",background:"rgba(255,255,255,0.03)",padding:"8px",borderRadius:"8px"},children:[e.jsx("img",{src:p.slipPhoto,onClick:()=>window.open(p.slipPhoto),style:{width:"40px",height:"40px",borderRadius:"6px",objectFit:"cover",cursor:"pointer"},loading:"lazy"}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("p",{style:{color:"white",fontWeight:"800",fontSize:"14px",margin:0},children:["₹",p.amount]}),e.jsxs("p",{style:{color:"var(--primary)",fontWeight:"700",fontSize:"10px",margin:0},children:[p.km," KM"]})]})]},v)):e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.fuel.slipPhoto&&e.jsx("img",{src:s.fuel.slipPhoto,onClick:()=>window.open(s.fuel.slipPhoto),style:{width:"50px",height:"50px",borderRadius:"8px",objectFit:"cover",cursor:"pointer"}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("p",{style:{color:"white",fontWeight:"800",fontSize:"16px",margin:0},children:["₹",s.fuel.amount]}),e.jsxs("p",{style:{color:"var(--primary)",fontWeight:"700",fontSize:"11px",margin:0},children:[s.fuel.km||"--"," KM"]})]})]})}):null]}),e.jsxs("div",{className:"glass-card",style:{padding:"15px",background:"rgba(255,255,255,0.02)"},children:[e.jsx("p",{style:{fontSize:"9px",color:"var(--text-muted)",marginBottom:"12px",fontWeight:"800",textTransform:"uppercase"},children:"Tolls & Parking"}),s.punchOut?.tollParkingAmount>0||s.parking&&s.parking.length>0?e.jsxs("div",{children:[e.jsxs("p",{style:{color:"white",fontWeight:"800",fontSize:"16px",margin:0},children:["₹",s.punchOut?.tollParkingAmount||s.parking?.reduce((p,v)=>p+(v.amount||0),0)]}),s.parking&&s.parking.length>0&&e.jsx("div",{style:{display:"flex",gap:"4px",marginTop:"10px",flexWrap:"wrap"},children:s.parking.map((p,v)=>e.jsx("img",{src:p.slipPhoto,onClick:()=>window.open(p.slipPhoto),style:{width:"30px",height:"30px",borderRadius:"4px",objectFit:"cover",border:"1px solid rgba(255,255,255,0.1)",cursor:"pointer"}},v))})]}):null]}),e.jsxs("div",{className:"glass-card",style:{padding:"15px",background:"rgba(255,255,255,0.02)"},children:[e.jsx("p",{style:{fontSize:"9px",color:"var(--text-muted)",marginBottom:"12px",fontWeight:"800",textTransform:"uppercase"},children:"Incentives & Taxes"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[s.punchOut?.allowanceTA>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[e.jsx("span",{style:{color:"var(--text-muted)"},children:"TA:"})," ",e.jsxs("span",{style:{color:"#10b981",fontWeight:"800"},children:["+₹",s.punchOut.allowanceTA]})]}),s.punchOut?.nightStayAmount>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[e.jsx("span",{style:{color:"var(--text-muted)"},children:"Stay:"})," ",e.jsxs("span",{style:{color:"#10b981",fontWeight:"800"},children:["+₹",s.punchOut.nightStayAmount]})]}),s.outsideTrip?.occurred&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[e.jsx("span",{style:{color:"var(--text-muted)"},children:"Bonus:"})," ",e.jsxs("span",{style:{color:"var(--primary)",fontWeight:"800"},children:["+₹",s.outsideTrip.bonusAmount]})]}),A.filter(p=>p.date===s.date&&p.vehicle?._id===s.vehicle?._id).map((p,v)=>e.jsx("div",{style:{padding:"6px",background:"rgba(16, 185, 129, 0.08)",borderRadius:"6px",fontSize:"11px",border:"1px solid rgba(16, 185, 129, 0.1)"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"white"},children:p.borderName}),e.jsxs("span",{style:{color:"#10b981",fontWeight:"900"},children:["₹",p.amount]})]})},v))]})]})]}),e.jsxs("div",{className:"flex-resp",style:{marginTop:"20px",gap:"12px"},children:[e.jsxs("div",{className:"glass-card",style:{padding:"15px",flex:"1",minWidth:"120px",textAlign:"center",background:"rgba(16, 185, 129, 0.03)"},children:[e.jsx("p",{style:{fontSize:"9px",color:"var(--text-muted)",marginBottom:"5px",fontWeight:"800"},children:"DAILY SALARY"}),e.jsxs("h3",{style:{color:"#10b981",margin:0,fontSize:"20px",fontWeight:"900"},children:["₹",(s.dailyWage||s.driver?.dailyWage||s.vehicle?.dutyAmount||500).toLocaleString()]})]}),e.jsxs("div",{className:"glass-card",style:{padding:"15px",flex:"1",minWidth:"120px",textAlign:"center",background:"rgba(16, 185, 129, 0.03)"},children:[e.jsx("p",{style:{fontSize:"9px",color:"var(--text-muted)",marginBottom:"5px",fontWeight:"800"},children:"DISTANCE"}),e.jsxs("h3",{style:{color:"#10b981",margin:0,fontSize:"20px",fontWeight:"900"},children:[s.totalKM||"0"," KM"]})]})]}),s.punchOut?.remarks&&e.jsxs("div",{className:"glass-card",style:{padding:"15px",marginTop:"15px",border:"1px solid rgba(16, 185, 129, 0.2)",background:"rgba(16, 185, 129, 0.02)"},children:[e.jsx("p",{style:{fontSize:"9px",color:"#10b981",marginBottom:"8px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Duty Remarks / Destination"}),e.jsx("p",{style:{color:"white",fontSize:"13px",lineHeight:"1.6",margin:0,fontWeight:"600"},children:s.punchOut.remarks})]}),s.punchOut?.otherRemarks&&e.jsxs("div",{className:"glass-card",style:{padding:"15px",marginTop:"12px",border:"1px solid rgba(244, 63, 94, 0.2)",background:"rgba(244, 63, 94, 0.02)"},children:[e.jsx("p",{style:{fontSize:"9px",color:"#f43f5e",marginBottom:"8px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Maintenance Remarks"}),e.jsx("p",{style:{color:"white",fontSize:"13px",lineHeight:"1.5",margin:0},children:s.punchOut.otherRemarks})]})]})]}),Fe=()=>{const{selectedCompany:s}=ve(),z=()=>new Date().toISOString().split("T")[0],A=()=>{const n=new Date;return n.setDate(n.getDate()-180),n.toISOString().split("T")[0]},[p,v]=y.useState(A()),[w,$]=y.useState(z()),[W,ne]=y.useState([]),[R,ie]=y.useState([]),[N,se]=y.useState([]),[O,ae]=y.useState([]),[_,le]=y.useState([]),[I,re]=y.useState([]),[F,oe]=y.useState([]),[K,U]=y.useState(!0),[Y,P]=y.useState(null),[H,de]=y.useState(""),[d,L]=y.useState(["drivers","freelancers","outsideCars"]),k=[{id:"drivers",label:"Staff Drivers",icon:C,color:"#10b981"},{id:"freelancers",label:"Freelancers",icon:C,color:"#f43f5e"},{id:"vehicles",label:"Vehicle Fleet",icon:Q,color:"#0ea5e9"},{id:"outsideCars",label:"Outside Cars",icon:J,color:"#f59e0b"},{id:"fuel",label:"Fuel Logs",icon:je,color:"#22c55e"},{id:"maintenance",label:"Maintenance",icon:Se,color:"#ef4444"},{id:"advances",label:"Advances",icon:Te,color:"#6366f1"},{id:"borderTax",label:"Border Tax",icon:we,color:"#8b5cf6"},{id:"parking",label:"Parking",icon:Ne,color:"#6366f1"},{id:"fastag",label:"Fastag Logs",icon:ke,color:"#ec4899"}],ce=n=>{L(t=>t.includes(n)?t.filter(c=>c!==n):[...t,n])},pe=()=>{d.length===k.length?L([]):L(k.map(n=>n.id))};y.useEffect(()=>{s&&xe()},[s,p,w]);const xe=async()=>{if(s?._id){U(!0);try{const n=JSON.parse(localStorage.getItem("userInfo"));if(!n)return;const{data:t}=await be.get(`/api/admin/reports/${s._id}?from=${p}&to=${w}`,{headers:{Authorization:`Bearer ${n.token}`}});ne(t.attendance||[]),ie(t.fastagRecharges||[]),se(t.borderTax||[]),ae(t.fuel||[]),le(t.maintenance||[]),re(t.advances||[]),oe(t.parking||[])}catch(n){console.error("Error fetching reports",n)}finally{U(!1)}}},ue=async()=>{const n=await V(()=>import("./xlsx.min-Ccxlft-Q.js").then(i=>i.x),__vite__mapDeps([0,1,2]));if(S.length===0)return alert("No records to export in the current table.");const t=n.utils.book_new(),c=new Set,x=S.map(i=>{const l=i.punchIn?.time?new Date(i.punchIn.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--",o=i.punchOut?.time?new Date(i.punchOut.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--",h=i.date||"Unknown",[f,g,M]=h.split("-"),r=i.driver?._id||i.vehicle?._id||i.driver?.name,m=`${r}_${h}`;let b=0;return r&&!c.has(m)&&(b=i.dailyWage||i.driver?.dailyWage||i.vehicle?.dutyAmount||500,c.add(m)),{Date:`${M}-${g}-${f}`,Name:i.driver?.name||"Unknown",Car:i.vehicle?.carNumber?i.vehicle.carNumber.split("#")[0]:"",In:l,Out:o,KM:i.totalKM||0,Daily:b,Bonus:(i.punchOut?.allowanceTA||0)+(i.punchOut?.nightStayAmount||0),"T/P":i.punchOut?.tollParkingAmount||(i.parking||[]).reduce((j,D)=>j+(D.amount||0),0),Company:i.vehicle?.isOutsideCar||i.driver?.isFreelancer?"FREELANCER":"Yatree Destination",Remarks:i.punchOut?.otherRemarks||""}}),u=n.utils.json_to_sheet(x),a=n.utils.decode_range(u["!ref"]);for(let i=a.s.c;i<=a.e.c;++i){let l=10;for(let o=a.s.r;o<=a.e.r;++o){const h=u[n.utils.encode_cell({r:o,c:i})];h&&(h.s={alignment:{horizontal:"center",vertical:"center"},font:{name:"Arial",sz:10}},o===0&&(h.s.font.bold=!0,h.s.fill={fgColor:{rgb:"E9E9E9"}}),h.v&&(l=Math.max(l,h.v.toString().length+2)))}u["!cols"]||(u["!cols"]=[]),u["!cols"][i]={wch:l}}n.utils.book_append_sheet(t,u,"Daily Operational Log"),n.writeFile(t,`Daily_Log_${s.name}_${p}.xlsx`)},he=async()=>{const n=await V(()=>import("./xlsx.min-Ccxlft-Q.js").then(a=>a.x),__vite__mapDeps([0,1,2]));if(d.length===0)return alert("Please select at least one report type from the config box.");const t=n.utils.book_new();let c=!1;const x=a=>{if(!a)return"--";if(a instanceof Date){const h=a.getDate(),f=a.getMonth()+1,g=a.getFullYear();return`${String(h).padStart(2,"0")}-${String(f).padStart(2,"0")}-${g}`}const[i,l,o]=a.includes("T")?a.split("T")[0].split("-"):a.split("-");return`${o}-${l}-${i}`},u=(a,i)=>{const l=W.filter(i);if(l.length===0)return;const o=a==="Outside Cars";l.sort((r,m)=>{const b=(r.driver?.name||"").toLowerCase(),j=(m.driver?.name||"").toLowerCase();return b<j?-1:b>j?1:new Date(r.date)-new Date(m.date)}),c=!0;const h=new Set,f=l.map(r=>{const m={hour:"2-digit",minute:"2-digit",hour12:!0},b=r.punchIn?.time?new Date(r.punchIn.time).toLocaleTimeString("en-IN",m):"--",j=r.punchOut?.time?new Date(r.punchOut.time).toLocaleTimeString("en-IN",m):"--",D=r.driver?._id||r.vehicle?._id||r.driver?.name,q=`${D}_${r.date}`;let E=0;D&&!h.has(q)&&(E=r.dailyWage||r.driver?.dailyWage||r.vehicle?.dutyAmount||500,h.add(q));const G=r.vehicle?.carNumber?r.vehicle.carNumber.split("#")[0].slice(-4):"";return o?{"Driver Name":r.driver?.name||"Unknown",Date:x(r.date),Car:G,"Punch In":b,"Punch Out":j,"Daily Wage":E}:{"Driver Name":r.driver?.name||"Unknown",Date:x(r.date),Car:G,"Punch In":b,"Punch Out":j,"KM Run":r.totalKM||0,"Daily Wage":E,Bonus:(r.punchOut?.allowanceTA||0)+(r.punchOut?.nightStayAmount||0),"Toll/Parking":r.punchOut?.tollParkingAmount||(r.parking||[]).reduce((ye,fe)=>ye+(fe.amount||0),0),"Fuel Cost":r.fuel?.amount||0,Remarks:r.punchOut?.otherRemarks||r.punchIn?.remarks||""}}),g=f.reduce((r,m)=>(o||(r["KM Run"]+=Number(m["KM Run"])||0,r["Toll/Parking"]+=Number(m["Toll/Parking"])||0,r["Fuel Cost"]+=Number(m["Fuel Cost"])||0,r.Bonus+=Number(m.Bonus)||0),r["Daily Wage"]+=Number(m["Daily Wage"])||0,r),o?{"Driver Name":"TOTAL",Date:"-",Car:"-","Punch In":"-","Punch Out":"-","Daily Wage":0}:{"Driver Name":"TOTAL",Date:"-",Car:"-","KM Run":0,"Daily Wage":0,Bonus:0,"Toll/Parking":0,"Fuel Cost":0});f.push(g);const M=n.utils.json_to_sheet(f);n.utils.book_append_sheet(t,M,a)};if(d.includes("drivers")&&u("Staff Drivers",a=>!a.vehicle?.isOutsideCar&&!a.driver?.isFreelancer),d.includes("freelancers")&&u("Freelancers",a=>!a.vehicle?.isOutsideCar&&a.driver?.isFreelancer),d.includes("outsideCars")&&u("Outside Cars",a=>a.vehicle?.isOutsideCar),d.includes("vehicles")){const a={};W.forEach(l=>{const o=l.vehicle?._id;if(!o)return;const h=l.vehicle.carNumber?l.vehicle.carNumber.split("#")[0]:"";a[o]||(a[o]={"Car Number":h,Model:l.vehicle.model||"",Type:l.vehicle.carType||"","Total KM":0,"Days Worked":0,"Toll & Parking":0,"Fuel Cost":0,"Net Revenue":0}),a[o]["Total KM"]+=l.totalKM||0,a[o]["Days Worked"]+=1,a[o]["Toll & Parking"]+=l.punchOut?.tollParkingAmount||0,a[o]["Fuel Cost"]+=l.fuel?.amount||0,a[o]["Net Revenue"]+=l.vehicle?.dutyAmount||0});const i=Object.values(a).sort((l,o)=>l["Car Number"].localeCompare(o["Car Number"]));i.length>0&&(c=!0,n.utils.book_append_sheet(t,n.utils.json_to_sheet(i),"Vehicle Summary"))}if(d.includes("fuel")&&O.length>0){c=!0;const a=O.map(i=>({Date:x(new Date(i.date)),Car:i.vehicle?.carNumber?i.vehicle.carNumber.split("#")[0]:"N/A","Fuel Type":i.fuelType,Quantity:i.quantity,Rate:i.rate,Amount:i.amount,"KM Odometer":i.odometer,Station:i.stationName||"N/A",Payment:i.paymentMode,Driver:i.driver||"N/A"}));n.utils.book_append_sheet(t,n.utils.json_to_sheet(a),"Fuel Logs")}if(d.includes("maintenance")&&_.length>0){c=!0;const a=_.map(i=>({Date:x(new Date(i.billDate)),Car:i.vehicle?.carNumber?i.vehicle.carNumber.split("#")[0]:"N/A",Type:i.maintenanceType,Category:i.category||"N/A",Description:i.description||"N/A",Garage:i.garageName||"N/A","Bill No":i.billNumber||"N/A",Amount:i.amount,"KM Reading":i.currentKm||"N/A"}));n.utils.book_append_sheet(t,n.utils.json_to_sheet(a),"Maintenance")}if(d.includes("advances")&&I.length>0){c=!0;const a=I.map(i=>({Date:x(new Date(i.date)),"Driver Name":i.driver?.name||"Unknown",Mobile:i.driver?.mobile||"N/A",Amount:i.amount,Remark:i.remark||"",Status:i.status==="Pending"?"Advance Success":i.status==="Recovered"?"Fully Recovered":i.status}));n.utils.book_append_sheet(t,n.utils.json_to_sheet(a),"Advances")}if(d.includes("borderTax")&&N.length>0){c=!0;const i=[...N].sort((l,o)=>new Date(l.date)-new Date(o.date)).map(l=>({Date:x(l.date),"Car Number":l.vehicle?.carNumber?l.vehicle.carNumber.split("#")[0]:"N/A","Border Name":l.borderName,Amount:l.amount,Remarks:l.remarks||""}));n.utils.book_append_sheet(t,n.utils.json_to_sheet(i),"Border Tax")}if(d.includes("parking")&&F.length>0){c=!0;const a=F.map(i=>({Date:x(new Date(i.date)),Car:i.vehicle?.carNumber?i.vehicle.carNumber.split("#")[0]:"N/A",Driver:i.driver||"N/A",Amount:i.amount,Location:i.location||"N/A",Remark:i.remark||"",Source:i.source||"Admin"}));n.utils.book_append_sheet(t,n.utils.json_to_sheet(a),"Parking Logs")}if(d.includes("fastag")&&R.length>0){c=!0;const i=[...R].sort((l,o)=>new Date(l.date)-new Date(o.date)).map(l=>{const o=new Date(l.date);return{Date:x(o),Time:o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),"Car Number":l.carNumber||"N/A",Amount:Number(l.amount)||0,"Bank/Method":l.method||"Not Specified",Remarks:l.remarks||""}});n.utils.book_append_sheet(t,n.utils.json_to_sheet(i),"Fastag Recharges")}if(!c)return alert("No data available for the selected categories in this range.");Object.values(t.Sheets).forEach(a=>{if(!a["!ref"])return;const i=n.utils.decode_range(a["!ref"]),l=[];for(let o=i.s.c;o<=i.e.c;++o){let h=10;for(let f=i.s.r;f<=i.e.r;++f){const g=a[n.utils.encode_cell({r:f,c:o})];g&&(g.s={alignment:{horizontal:"center",vertical:"center"},font:{name:"Arial",sz:10}},f===0&&(g.s.font.bold=!0,g.s.fill={fgColor:{rgb:"333333"}},g.s.font.color={rgb:"FFFFFF"}),a[n.utils.encode_cell({r:f,c:0})]?.v==="TOTAL"&&(g.s.font.bold=!0,g.s.fill={fgColor:{rgb:"FFFFCC"}}),g.v&&(h=Math.max(h,g.v.toString().length+2)))}l.push({wch:h})}a["!cols"]=l}),n.writeFile(t,`Premium_Fleet_Export_${p}.xlsx`)},ge=()=>{let n=[];if(d.includes("drivers")||d.includes("freelancers")||d.includes("outsideCars")){const t=W.filter(c=>{const x=c.vehicle?.isOutsideCar,u=c.driver?.isFreelancer;return!!(d.includes("outsideCars")&&x||d.includes("freelancers")&&!x&&u||d.includes("drivers")&&!x&&!u)});n=[...n,...t.map(c=>({...c,entryType:"attendance"}))]}return d.includes("fuel")&&(n=[...n,...O.map(t=>({...t,entryType:"fuel",date:t.date.split("T")[0]}))]),d.includes("maintenance")&&(n=[...n,..._.map(t=>({...t,entryType:"maintenance",date:t.billDate.split("T")[0]}))]),d.includes("advances")&&(n=[...n,...I.map(t=>({...t,entryType:"advance",date:t.date.split("T")[0]}))]),d.includes("borderTax")&&(n=[...n,...N.map(t=>({...t,entryType:"borderTax"}))]),d.includes("fastag")&&(n=[...n,...R.map(t=>({...t,entryType:"fastag",date:t.date.split("T")[0]}))]),d.includes("parking")&&(n=[...n,...F.map(t=>({...t,entryType:"parking",date:t.date.split("T")[0]}))]),n.sort((t,c)=>c.date.localeCompare(t.date))},me=n=>{const t=H.toLowerCase(),c=(n.driver?.name||n.driverName||"").toLowerCase(),x=(n.vehicle?.carNumber||n.carNumber||"").toLowerCase();return c.includes(t)||x.includes(t)},S=ge().filter(me);return e.jsxs("div",{className:"container-fluid",style:{paddingBottom:"40px"},children:[e.jsx(Ae,{title:"Operational Reports",description:"Detailed daily fleet reports, attendance logs, and expenditure history for your taxi business."}),e.jsxs("header",{className:"flex-resp",style:{justifyContent:"space-between",padding:"30px 0",gap:"20px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e.jsx("div",{style:{width:"45px",height:"45px",background:"white",borderRadius:"12px",padding:"6px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:e.jsx("img",{src:"/logos/logo.png",alt:"Logo",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),e.jsxs("div",{children:[e.jsx("h1",{className:"resp-title",style:{fontSize:"24px"},children:"Daily Reports"}),e.jsx("p",{className:"resp-subtitle",children:"Operational logs for Yatree Destination"})]})]}),e.jsxs("div",{className:"flex-resp",style:{gap:"12px",flexWrap:"wrap",justifyContent:"flex-end",flex:"1 1 auto"},children:[e.jsxs("div",{className:"mobile-stack",style:{gap:"15px",display:"flex",flexWrap:"wrap",justifyContent:"flex-end"},children:[e.jsxs("div",{style:{position:"relative",flex:"1 1 140px"},children:[e.jsx("span",{style:{position:"absolute",top:"-18px",left:"0",fontSize:"9px",fontWeight:"800",color:"var(--text-muted)",textTransform:"uppercase"},children:"From"}),e.jsx("input",{type:"date",value:p,onChange:n=>v(n.target.value),className:"input-field",style:{height:"45px",marginBottom:0,width:"100%",minWidth:"130px",padding:"0 12px"}})]}),e.jsxs("div",{style:{position:"relative",flex:"1 1 140px"},children:[e.jsx("span",{style:{position:"absolute",top:"-18px",left:"0",fontSize:"9px",fontWeight:"800",color:"var(--text-muted)",textTransform:"uppercase"},children:"To"}),e.jsx("input",{type:"date",value:w,onChange:n=>$(n.target.value),className:"input-field",style:{height:"45px",marginBottom:0,width:"100%",minWidth:"130px",padding:"0 12px"}})]})]}),e.jsxs("button",{onClick:ue,className:"btn-primary",style:{height:"45px",padding:"0 20px",display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",whiteSpace:"nowrap",flexShrink:0},children:[e.jsx(X,{size:18})," ",e.jsx("span",{className:"hide-mobile",children:"Export Excel"}),e.jsx("span",{className:"show-mobile",children:"Export"})]})]})]}),e.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"glass-card",style:{padding:"clamp(15px, 3vw, 25px)",marginBottom:"30px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px",flexWrap:"wrap",gap:"15px"},children:[e.jsxs("div",{className:"flex-resp",style:{gap:"15px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Q,{size:20,style:{color:"var(--primary)"}}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:"800",color:"white",margin:0},children:"Reports Config"})]}),e.jsxs("div",{className:"flex-resp hide-mobile",style:{gap:"12px",background:"rgba(255,255,255,0.03)",padding:"8px 15px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"10px",color:"var(--text-muted)",fontWeight:"800"},children:"START:"}),e.jsx("input",{type:"date",value:p,onChange:n=>v(n.target.value),style:{background:"transparent",border:"none",color:"white",fontSize:"12px",outline:"none",cursor:"pointer"}})]}),e.jsx("div",{style:{width:"1px",height:"15px",background:"rgba(255,255,255,0.1)"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"10px",color:"var(--text-muted)",fontWeight:"800"},children:"END:"}),e.jsx("input",{type:"date",value:w,onChange:n=>$(n.target.value),style:{background:"transparent",border:"none",color:"white",fontSize:"12px",outline:"none",cursor:"pointer"}})]})]}),e.jsxs("button",{onClick:he,className:"btn-primary",style:{background:"linear-gradient(135deg, #10b981, #059669)",padding:"10px 18px",fontSize:"13px",gap:"8px"},children:[e.jsx(X,{size:16})," ",e.jsx("span",{className:"hide-mobile",children:"Download Selected"}),e.jsx("span",{className:"show-mobile",children:"Download"})]})]}),e.jsx("button",{onClick:pe,style:{background:"rgba(14, 165, 233, 0.1)",border:"none",color:"var(--primary)",padding:"8px 15px",borderRadius:"8px",fontSize:"12px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:d.length===k.length?"Deselect All":"Select All"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(110px, 1fr))",gap:"10px"},children:k.map(n=>e.jsxs(T.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>ce(n.id),style:{padding:"12px",borderRadius:"12px",cursor:"pointer",transition:"0.2s",background:d.includes(n.id)?`${n.color}15`:"rgba(255,255,255,0.02)",border:`1px solid ${d.includes(n.id)?n.color:"rgba(255,255,255,0.05)"}`,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",textAlign:"center"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",background:d.includes(n.id)?n.color:"rgba(255,255,255,0.05)",color:d.includes(n.id)?"white":"var(--text-muted)"},children:e.jsx(n.icon,{size:16})}),e.jsx("span",{style:{fontSize:"11px",fontWeight:"800",color:d.includes(n.id)?"white":"var(--text-muted)"},children:n.label})]},n.id))})]}),e.jsx("div",{className:"flex-resp",style:{marginBottom:"30px",gap:"15px"},children:e.jsxs("div",{style:{position:"relative",flex:1,minWidth:"min(100%, 300px)"},children:[e.jsx("input",{type:"text",placeholder:"Search driver or car number...",value:H,onChange:n=>de(n.target.value),className:"input-field",style:{width:"100%",paddingLeft:"45px",marginBottom:0,height:"50px",borderRadius:"15px"}}),e.jsx(De,{size:20,style:{position:"absolute",left:"16px",top:"15px",color:"var(--text-muted)"}})]})}),e.jsx("div",{className:"scroll-x glass-card hide-mobile",style:{padding:"0",border:"1px solid rgba(255,255,255,0.05)"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:"white",minWidth:"1000px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"rgba(255,255,255,0.02)",textAlign:"left"},children:[e.jsx("th",{style:{padding:"18px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase"},children:"Duty Date"}),e.jsx("th",{style:{padding:"18px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase"},children:"Fleet Personnel"}),e.jsx("th",{style:{padding:"18px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase"},children:"Type"}),e.jsx("th",{style:{padding:"18px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase"},children:"Insight"}),e.jsx("th",{style:{padding:"18px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase"},children:"In/Start"}),e.jsx("th",{style:{padding:"18px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase"},children:"Out/End"}),e.jsx("th",{style:{padding:"18px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase"},children:"Amount/Pay"}),e.jsx("th",{style:{padding:"18px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase"},children:"Duty KM"}),e.jsx("th",{style:{padding:"18px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",textAlign:"right"},children:"Action"})]})}),e.jsx("tbody",{children:(()=>{const n=new Set;return K?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",style:{padding:"80px",textAlign:"center"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",color:"var(--text-muted)"},children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{children:"Parsing fleet logs..."})]})})}):S.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"7",style:{padding:"80px",textAlign:"center"},children:[e.jsx("div",{style:{opacity:.2,marginBottom:"15px"},children:e.jsx(B,{size:40,style:{margin:"0 auto"}})}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:"14px",margin:0},children:"No transaction history found for the selected period."})]})}):S.map(t=>{const c=t.driver?._id||t.vehicle?._id||t.driver?.name,x=`${c}_${t.date}`;let u=0;return c&&!n.has(x)&&(u=t.dailyWage||t.driver?.dailyWage||t.vehicle?.dutyAmount||500,n.add(x)),e.jsxs(T.tr,{initial:{opacity:0},animate:{opacity:1},style:{borderBottom:"1px solid rgba(255,255,255,0.03)",transition:"background 0.2s"},className:"hover-row",children:[e.jsx("td",{style:{padding:"18px 25px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)"},children:[e.jsx(B,{size:14,style:{opacity:.5}}),e.jsx("span",{style:{fontWeight:"700",fontSize:"13px",color:"white"},children:(()=>{if(!t.date)return"--";const[a,i,l]=t.date.split("-");return`${l}-${i}-${a}`})()})]})}),e.jsx("td",{style:{padding:"18px 25px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"38px",height:"38px",borderRadius:"12px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(C,{size:18,color:"white"})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontWeight:"800",fontSize:"14px",margin:0},children:t.driver?.name||(typeof t.driver=="string"?t.driver:"N/A")}),e.jsx("p",{style:{fontSize:"11px",color:"var(--text-muted)",margin:"2px 0 0 0"},children:t.driver?.mobile||"-"})]})]})}),e.jsx("td",{style:{padding:"18px 25px"},children:e.jsx("span",{style:{fontSize:"10px",fontWeight:"800",textTransform:"uppercase",padding:"4px 10px",borderRadius:"6px",background:t.entryType==="attendance"?"rgba(16, 185, 129, 0.1)":t.entryType==="fuel"?"rgba(34, 197, 94, 0.1)":t.entryType==="parking"||t.entryType==="advance"?"rgba(99, 102, 241, 0.1)":"rgba(255,255,255,0.05)",color:t.entryType==="attendance"?"#10b981":t.entryType==="fuel"?"#22c55e":t.entryType==="parking"||t.entryType==="advance"?"#6366f1":"white"},children:t.entryType})}),e.jsxs("td",{style:{padding:"18px 25px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"white",fontWeight:"700",fontSize:"14px"},children:[e.jsx(J,{size:16,style:{color:"var(--primary)",opacity:.7}}),e.jsx("span",{children:(t.vehicle?.carNumber||t.carNumber||"--").split("#")[0]})]}),t.entryType==="attendance"&&(t.punchOut?.allowanceTA>0||t.punchOut?.nightStayAmount>0)&&e.jsxs("div",{style:{display:"flex",gap:"4px",marginTop:"4px"},children:[t.punchOut.allowanceTA>0&&e.jsx("span",{style:{fontSize:"9px",background:"rgba(16, 185, 129, 0.1)",color:"#10b981",padding:"1px 4px",borderRadius:"3px",fontWeight:"800"},children:"DAY +100"}),t.punchOut.nightStayAmount>0&&e.jsx("span",{style:{fontSize:"9px",background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b",padding:"1px 4px",borderRadius:"3px",fontWeight:"800"},children:"NIGHT +500"})]})]}),e.jsx("td",{style:{padding:"18px 25px"},children:t.entryType==="attendance"?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#10b981",fontWeight:"800"},children:[e.jsx(Z,{size:14}),e.jsx("span",{children:new Date(t.punchIn?.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):t.entryType==="fuel"?e.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"12px"},children:[t.fuelType," | ",t.quantity,"L"]}):t.entryType==="parking"?e.jsx("span",{style:{color:"var(--text-muted)",fontSize:"12px"},children:t.location||"Local Parking"}):"--"}),e.jsx("td",{style:{padding:"18px 25px"},children:t.entryType==="attendance"&&t.punchOut?.time?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#f43f5e",fontWeight:"800"},children:[e.jsx(ee,{size:14}),e.jsx("span",{children:new Date(t.punchOut.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):"--"}),e.jsx("td",{style:{padding:"18px 25px"},children:e.jsxs("span",{style:{color:"#10b981",fontWeight:"900",fontSize:"15px"},children:["₹",(t.amount||u||0).toLocaleString()]})}),e.jsx("td",{style:{padding:"18px 25px"},children:t.entryType==="advance"?e.jsx("span",{style:{fontSize:"11px",fontWeight:"800",color:t.status==="Pending"?"#fbbf24":"#10b981"},children:t.status==="Pending"?"Advance Given":"Success"}):t.entryType==="attendance"?e.jsx("span",{style:{color:"white",fontSize:"14px",fontWeight:"800"},children:t.totalKM?`${t.totalKM} KM`:"--"}):t.entryType==="fuel"?e.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"11px"},children:[t.odometer||"--"," KM"]}):e.jsx("span",{style:{color:"var(--text-muted)",fontSize:"11px"},children:"--"})}),e.jsx("td",{style:{padding:"18px 25px",textAlign:"right"},children:t.entryType==="attendance"&&e.jsxs("button",{onClick:()=>P(t),className:"glass-card",style:{padding:"8px 15px",color:"var(--primary)",border:"1px solid rgba(14, 165, 233, 0.1)",display:"inline-flex",alignItems:"center",gap:"8px",fontSize:"11px",fontWeight:"800"},children:[e.jsx(te,{size:14})," VIEW"]})})]},t._id)})})()})]})}),e.jsx("div",{className:"show-mobile",children:(()=>{const n=new Set;return K?e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:e.jsx("div",{className:"spinner"})}):S.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)",background:"rgba(255,255,255,0.02)",borderRadius:"16px"},children:[e.jsx(B,{size:40,style:{opacity:.2,marginBottom:"10px"}}),e.jsx("p",{children:"No transactions found."})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:S.map(t=>{const c=t.driver?._id||t.vehicle?._id||t.driver?.name,x=`${c}_${t.date}`;let u=0;return c&&!n.has(x)&&(u=t.dailyWage||t.driver?.dailyWage||t.vehicle?.dutyAmount||500,n.add(x)),e.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card",style:{padding:"16px",background:"rgba(30, 41, 59, 0.4)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"rgba(14, 165, 233, 0.1)",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(C,{size:18,color:"var(--primary)"})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"white",fontWeight:"900",fontSize:"16px"},children:t.driver?.name||(typeof t.driver=="string"?t.driver:"N/A")}),e.jsx("div",{style:{fontSize:"11px",color:"var(--text-muted)"},children:t.vehicle?.carNumber?.split("#")[0]||(typeof t.carNumber=="string"?t.carNumber:"--")}),e.jsx("div",{style:{marginTop:"4px"},children:e.jsx("span",{style:{fontSize:"10px",fontWeight:"800",textTransform:"uppercase",padding:"2px 8px",borderRadius:"4px",background:t.entryType==="attendance"?"rgba(16, 185, 129, 0.1)":t.entryType==="fuel"?"rgba(34, 197, 94, 0.1)":t.entryType==="parking"||t.entryType==="advance"?"rgba(99, 102, 241, 0.1)":"rgba(255,255,255,0.05)",color:t.entryType==="attendance"?"#10b981":t.entryType==="fuel"?"#22c55e":t.entryType==="parking"||t.entryType==="advance"?"#6366f1":"white"},children:t.entryType})})]})]}),e.jsx("span",{style:{fontSize:"9px",color:t.vehicle?.isOutsideCar?"#f59e0b":t.driver?.isFreelancer?"#f43f5e":"#10b981",background:t.vehicle?.isOutsideCar?"rgba(245, 158, 11, 0.1)":t.driver?.isFreelancer?"rgba(244, 63, 94, 0.1)":"rgba(16, 185, 129, 0.1)",padding:"3px 8px",borderRadius:"6px",fontWeight:"800",textTransform:"uppercase",letterSpacing:"0.4px"},children:t.vehicle?.isOutsideCar?"OUT":t.driver?.isFreelancer?"FREE":"STAFF"}),t.entryType==="attendance"&&(t.punchOut?.allowanceTA>0||t.punchOut?.nightStayAmount>0)&&e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[t.punchOut.allowanceTA>0&&e.jsx("span",{style:{fontSize:"9px",background:"rgba(16, 185, 129, 0.1)",color:"#10b981",padding:"1px 4px",borderRadius:"3px",fontWeight:"800"},children:"+100"}),t.punchOut.nightStayAmount>0&&e.jsx("span",{style:{fontSize:"9px",background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b",padding:"1px 4px",borderRadius:"3px",fontWeight:"800"},children:"+500"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"12px",padding:"10px",background:"rgba(0,0,0,0.2)",borderRadius:"10px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"800"},children:"In Time"}),e.jsxs("div",{style:{color:"#10b981",fontSize:"13px",fontWeight:"700",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(Z,{size:12}),new Date(t.punchIn?.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"800"},children:"Out Time"}),e.jsxs("div",{style:{color:"#f43f5e",fontSize:"13px",fontWeight:"700",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(ee,{size:12}),t.punchOut?.time?new Date(t.punchOut.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"ON DUTY"]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"10px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",gap:"15px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",fontWeight:"800"},children:"KM RUN"}),e.jsxs("div",{style:{color:"white",fontWeight:"900"},children:[t.totalKM||t.odometer||"0"," KM"]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",fontWeight:"800"},children:"PAY"}),e.jsx("div",{style:{color:"#10b981",fontWeight:"900"},children:u>0?`₹${u}`:"--"})]})]}),e.jsxs("button",{onClick:()=>P(t),style:{background:"rgba(14, 165, 233, 0.1)",color:"var(--primary)",padding:"8px 12px",borderRadius:"8px",border:"1px solid rgba(14, 165, 233, 0.2)",display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",fontWeight:"700"},children:[e.jsx(te,{size:14})," View"]})]})]},t._id)})})})()}),e.jsx(Ce,{children:Y&&e.jsx(We,{item:Y,onClose:()=>P(null),borderTaxRecords:N})})]})};export{Fe as default};
