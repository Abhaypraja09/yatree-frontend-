import{b as i,j as e,d as k,Q as ie,x as le,T,O as ne,C as oe,aa as f,A as B,w as de,_ as ce,J as pe,s as P,m as L,X as O,H as F}from"./vendor-CCQY6jT8.js";import{b as xe,i as h}from"./index-BxPUw-pY.js";import{S as he}from"./SEO-Dsg_dB_2.js";const ye=()=>{const{selectedCompany:p}=xe(),[V,_]=i.useState([]),[D,$]=i.useState([]),[M,I]=i.useState(!0),[U,j]=i.useState(!1),[g,Y]=i.useState(""),[v,H]=i.useState("All"),[S,q]=i.useState("All"),[w,J]=i.useState({totalActive:0,expiringSoon:0,expired:0}),[G,N]=i.useState(!1),[o,X]=i.useState(null),[c,u]=i.useState({claimDate:new Date().toISOString().split("T")[0],claimStatus:"Pending",replacementDate:"",remarks:""}),[r,d]=i.useState({vehicleId:"",partName:"",brandName:"",invoiceNumber:"",purchaseDate:new Date().toISOString().split("T")[0],warrantyStartDate:new Date().toISOString().split("T")[0],warrantyEndDate:"",warrantyPeriod:"",supplierName:"",cost:"",status:"Active"}),[z,W]=i.useState(null),[C,A]=i.useState(null),[m,y]=i.useState(!1);i.useEffect(()=>{p&&b()},[p]);const b=async()=>{if(p?._id){I(!0);try{const t=JSON.parse(localStorage.getItem("userInfo")),[a,n,x]=await Promise.all([h.get(`/api/warranty/${p._id}`,{headers:{Authorization:`Bearer ${t.token}`}}),h.get(`/api/admin/vehicles/${p._id}?usePagination=false&type=fleet`,{headers:{Authorization:`Bearer ${t.token}`}}),h.get(`/api/warranty/stats/${p._id}`,{headers:{Authorization:`Bearer ${t.token}`}})]);_(a.data||[]);const ae=(n.data.vehicles||[]).sort((re,se)=>re.carNumber.localeCompare(se.carNumber));$(ae),J(x.data)}catch(t){console.error("Fetch Error:",t)}finally{I(!1)}}},Q=async t=>{t.preventDefault(),y(!0);try{const a=new FormData;Object.keys(r).forEach(x=>a.append(x,r[x])),a.append("companyId",p._id),z&&a.append("warrantyCardImage",z);const n=JSON.parse(localStorage.getItem("userInfo"));await h.post("/api/warranty",a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${n.token}`}}),j(!1),ee(),b()}catch{alert("Failed to save warranty record")}finally{y(!1)}},K=async t=>{if(window.confirm("Delete this warranty record?"))try{const a=JSON.parse(localStorage.getItem("userInfo"));await h.delete(`/api/warranty/${t}`,{headers:{Authorization:`Bearer ${a.token}`}}),b()}catch(a){console.error(a)}},Z=async t=>{t.preventDefault(),y(!0);try{const a=JSON.parse(localStorage.getItem("userInfo"));await h.put(`/api/warranty/${o._id}`,{claimDetails:c,status:"Claimed"},{headers:{Authorization:`Bearer ${a.token}`}}),N(!1),b()}catch{alert("Update failed")}finally{y(!1)}},ee=()=>{d({vehicleId:"",partName:"",brandName:"",invoiceNumber:"",purchaseDate:new Date().toISOString().split("T")[0],warrantyStartDate:new Date().toISOString().split("T")[0],warrantyEndDate:"",warrantyPeriod:"",supplierName:"",cost:"",status:"Active"}),W(null),A(null)},R=V.filter(t=>{const a=t.partName?.toLowerCase().includes(g.toLowerCase())||t.vehicle?.carNumber?.toLowerCase().includes(g.toLowerCase())||t.brandName?.toLowerCase().includes(g.toLowerCase())||t.invoiceNumber?.toLowerCase().includes(g.toLowerCase()),n=v==="All"||t.vehicle?._id===v,x=S==="All"||t.status===S;return a&&n&&x}),te=t=>{const a=new Date(t)-new Date,n=Math.ceil(a/(1e3*60*60*24));return n>0&&n<=30},E=t=>new Date(t)<new Date,l={background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",color:"white",padding:"12px 16px",width:"100%",outline:"none",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease",height:"48px"},s={display:"block",color:"var(--text-muted)",fontSize:"12px",fontWeight:"600",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"};return e.jsxs("div",{className:"container-fluid",style:{paddingBottom:"40px"},children:[e.jsx(he,{title:"Parts Warranty Hub",description:"Track and manage vehicle part warranties, claims and renewals."}),e.jsxs("header",{className:"flex-resp",style:{justifyContent:"space-between",padding:"30px 0",gap:"20px",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e.jsx("div",{style:{width:"clamp(40px,10vw,50px)",height:"clamp(40px,10vw,50px)",background:"linear-gradient(135deg, white, #f8fafc)",borderRadius:"16px",padding:"8px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:e.jsx(k,{size:28,color:"#fbbf24"})}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#fbbf24",boxShadow:"0 0 8px #fbbf24"}}),e.jsx("span",{style:{fontSize:"clamp(9px,2.5vw,10px)",fontWeight:"800",color:"rgba(255,255,255,0.5)",letterSpacing:"1px",textTransform:"uppercase"},children:"Asset Protection"})]}),e.jsxs("h1",{style:{color:"white",fontSize:"clamp(24px, 5vw, 32px)",fontWeight:"900",margin:0,letterSpacing:"-1px",cursor:"pointer"},children:["Parts ",e.jsx("span",{className:"text-gradient-yellow",children:"Warranty"})," Hub"]})]})]}),e.jsx("div",{className:"flex-resp",style:{gap:"15px"},children:e.jsxs("button",{onClick:()=>j(!0),style:{display:"flex",alignItems:"center",gap:"10px",height:"52px",padding:"0 25px",borderRadius:"14px",fontWeight:"800",background:"linear-gradient(135deg, #fbbf24 0%, #d97706 100%)",color:"black",border:"none",whiteSpace:"nowrap",flexShrink:0,boxShadow:"0 8px 15px rgba(251, 191, 36, 0.2)"},children:[e.jsx(ie,{size:20})," ",e.jsx("span",{className:"hide-mobile",children:"Add Warranty"}),e.jsx("span",{className:"show-mobile",children:"Add"})]})})]}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:"30px"},children:[e.jsxs("div",{className:"glass-card stat-card",style:{background:"linear-gradient(145deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.02))",borderColor:"rgba(16, 185, 129, 0.2)"},children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-card-icon",style:{background:"rgba(16, 185, 129, 0.2)",color:"#10b981"},children:e.jsx(k,{size:18})}),e.jsx("p",{className:"stat-card-label",style:{color:"#10b981"},children:"Active Warranties"})]}),e.jsx("h2",{className:"stat-card-value",children:w.totalActive})]}),e.jsxs("div",{className:"glass-card stat-card",style:{background:"linear-gradient(145deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.02))",borderColor:"rgba(245, 158, 11, 0.2)"},children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-card-icon",style:{background:"rgba(245, 158, 11, 0.2)",color:"#f59e0b"},children:e.jsx(le,{size:18})}),e.jsx("p",{className:"stat-card-label",style:{color:"#f59e0b"},children:"Expiring Soon"})]}),e.jsx("h2",{className:"stat-card-value",children:w.expiringSoon})]}),e.jsxs("div",{className:"glass-card stat-card",style:{background:"linear-gradient(145deg, rgba(244, 63, 94, 0.1), rgba(244, 63, 94, 0.02))",borderColor:"rgba(244, 63, 94, 0.2)"},children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-card-icon",style:{background:"rgba(244, 63, 94, 0.2)",color:"#f43f5e"},children:e.jsx(T,{size:18})}),e.jsx("p",{className:"stat-card-label",style:{color:"#f43f5e"},children:"Expired Parts"})]}),e.jsx("h2",{className:"stat-card-value",children:w.expired})]})]}),e.jsxs("div",{className:"glass-card",style:{padding:"20px",marginBottom:"30px",display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[e.jsxs("div",{style:{position:"relative",flex:"1",minWidth:"250px"},children:[e.jsx(ne,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"rgba(255,255,255,0.4)"}}),e.jsx("input",{type:"text",placeholder:"Search part, car number, invoice...",className:"input-field",style:{...l,paddingLeft:"48px",marginBottom:0},value:g,onChange:t=>Y(t.target.value)})]}),e.jsxs("div",{className:"flex-resp",style:{gap:"10px"},children:[e.jsxs("div",{className:"glass-card",style:{padding:"0 15px",display:"flex",alignItems:"center",height:"48px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(0,0,0,0.3)"},children:[e.jsx(oe,{size:16,style:{marginRight:"8px",color:"var(--primary)"}}),e.jsxs("select",{value:v,onChange:t=>H(t.target.value),style:{background:"transparent",border:"none",color:"white",outline:"none",fontSize:"13px",fontWeight:"600",cursor:"pointer",minWidth:"120px"},children:[e.jsx("option",{value:"All",style:{background:"#1e293b"},children:"All Vehicles"}),D.map(t=>e.jsx("option",{value:t._id,style:{background:"#1e293b"},children:t.carNumber},t._id))]}),e.jsx(f,{size:14,style:{marginLeft:"8px",opacity:.5}})]}),e.jsxs("div",{className:"glass-card",style:{padding:"0 15px",display:"flex",alignItems:"center",height:"48px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(0,0,0,0.3)"},children:[e.jsx(B,{size:16,style:{marginRight:"8px",color:"var(--primary)"}}),e.jsxs("select",{value:S,onChange:t=>q(t.target.value),style:{background:"transparent",border:"none",color:"white",outline:"none",fontSize:"13px",fontWeight:"600",cursor:"pointer",minWidth:"100px"},children:[e.jsx("option",{value:"All",style:{background:"#1e293b"},children:"All Status"}),e.jsx("option",{value:"Active",style:{background:"#1e293b"},children:"Active"}),e.jsx("option",{value:"Expired",style:{background:"#1e293b"},children:"Expired"}),e.jsx("option",{value:"Claimed",style:{background:"#1e293b"},children:"Claimed"})]}),e.jsx(f,{size:14,style:{marginLeft:"8px",opacity:.5}})]})]})]}),M?e.jsx("div",{style:{padding:"100px",textAlign:"center"},children:e.jsx("div",{className:"spinner",style:{margin:"0 auto"}})}):R.length===0?e.jsxs("div",{className:"glass-card",style:{padding:"80px",textAlign:"center"},children:[e.jsx(k,{size:48,style:{opacity:.1,color:"white",marginBottom:"20px"}}),e.jsx("h3",{style:{color:"white",marginBottom:"8px"},children:"No Warranty Records Found"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"Start tracking your vehicle parts warranties today."})]}):e.jsx("div",{className:"glass-card",style:{padding:"5px",overflow:"hidden"},children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"activity-table",style:{borderCollapse:"separate",borderSpacing:"0 8px"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{paddingLeft:"20px"},children:"Part Detail"}),e.jsx("th",{children:"Vehicle"}),e.jsx("th",{children:"Warranty Period"}),e.jsx("th",{children:"Exp. Date"}),e.jsx("th",{children:"Cost"}),e.jsx("th",{children:"Status"}),e.jsx("th",{style:{textAlign:"right",paddingRight:"20px"},children:"Actions"})]})}),e.jsx("tbody",{children:R.map(t=>{const a=E(t.warrantyEndDate),n=te(t.warrantyEndDate);return e.jsxs("tr",{className:"hover-row",style:{background:"rgba(255,255,255,0.02)",borderRadius:"12px"},children:[e.jsxs("td",{style:{padding:"15px 20px",borderRadius:"12px 0 0 12px"},children:[e.jsx("div",{style:{color:"white",fontWeight:"800",fontSize:"15px"},children:t.partName}),e.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"12px",display:"flex",alignItems:"center",gap:"6px",marginTop:"4px"},children:[e.jsx(de,{size:12})," ",t.brandName," ",e.jsx("span",{style:{opacity:.3},children:"|"})," ",t.invoiceNumber]})]}),e.jsxs("td",{style:{padding:"15px"},children:[e.jsx("div",{className:"vehicle-badge",style:{fontSize:"13px",padding:"6px 12px",background:"rgba(14, 165, 233, 0.1)",color:"#38bdf8",border:"1px solid rgba(14, 165, 233, 0.2)"},children:t.vehicle?.carNumber}),e.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)",marginTop:"6px"},children:t.supplierName})]}),e.jsxs("td",{style:{padding:"15px"},children:[e.jsx("div",{style:{color:"white",fontSize:"14px",fontWeight:"600"},children:t.warrantyPeriod}),e.jsxs("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:["From: ",new Date(t.warrantyStartDate).toLocaleDateString("en-GB")]})]}),e.jsxs("td",{style:{padding:"15px"},children:[e.jsxs("div",{style:{color:a?"#f43f5e":n?"#f59e0b":"#10b981",fontWeight:"800",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:[new Date(t.warrantyEndDate).toLocaleDateString("en-GB"),a&&e.jsx(T,{size:14})]}),e.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:a?"#f43f5e":n?"#f59e0b":"var(--text-muted)",marginTop:"2px"},children:a?"EXPIRED":n?"EXPIRING SOON":"VALID"})]}),e.jsx("td",{style:{padding:"15px"},children:e.jsxs("div",{style:{color:"white",fontWeight:"800",fontSize:"15px"},children:["₹",Number(t.cost||0).toLocaleString()]})}),e.jsx("td",{style:{padding:"15px"},children:e.jsxs("span",{style:{fontSize:"11px",fontWeight:"800",padding:"6px 12px",borderRadius:"8px",background:t.status==="Active"?"rgba(16, 185, 129, 0.15)":t.status==="Claimed"?"rgba(99, 102, 241, 0.15)":"rgba(244, 63, 94, 0.15)",color:t.status==="Active"?"#34d399":t.status==="Claimed"?"#818cf8":"#fb7185",border:"1px solid currentColor",display:"inline-flex",alignItems:"center",gap:"4px"},children:[t.status==="Active"&&e.jsx(ce,{size:12}),t.status.toUpperCase()]})}),e.jsx("td",{style:{textAlign:"right",borderRadius:"0 12px 12px 0",paddingRight:"20px"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:()=>{X(t),u(t.claimDetails||c),N(!0)},className:"action-button",title:"View/Claim",style:{background:"rgba(99, 102, 241, 0.1)",color:"#818cf8",width:"36px",height:"36px",padding:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(B,{size:16})}),e.jsx("button",{onClick:()=>K(t._id),className:"action-button",title:"Delete",style:{background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",width:"36px",height:"36px",padding:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(pe,{size:16})})]})})]},t._id)})})]})})}),e.jsx(P,{children:U&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:2e3,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(16px)",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"15px",overflowY:"auto"},children:e.jsxs(L.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"premium-glass",style:{width:"100%",maxWidth:"800px",padding:"0",border:"1px solid rgba(255,255,255,0.1)",background:"#0f172a",overflow:"visible",margin:"auto",borderRadius:"24px"},children:[e.jsxs("div",{style:{padding:"24px 30px",background:"linear-gradient(to right, #1e293b, #0f172a)",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:10,borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{color:"white",fontSize:"20px",margin:0,fontWeight:"800"},children:"New Warranty Record"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"700",textTransform:"uppercase",margin:"4px 0 0"},children:"Asset Registration"})]}),e.jsx("button",{onClick:()=>j(!1),style:{background:"rgba(255,255,255,0.05)",color:"white",borderRadius:"50%",padding:"10px",border:"none",cursor:"pointer"},children:e.jsx(O,{size:18})})]}),e.jsxs("form",{onSubmit:Q,style:{padding:"25px",display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px"},children:[e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Select Vehicle *"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("select",{className:"input-field",required:!0,value:r.vehicleId,onChange:t=>d({...r,vehicleId:t.target.value}),style:l,children:[e.jsx("option",{value:"",style:{background:"#1e293b"},children:"Select Vehicle"}),D.map(t=>e.jsx("option",{value:t._id,style:{background:"#1e293b"},children:t.carNumber},t._id))]}),e.jsx(f,{size:16,style:{position:"absolute",right:"15px",top:"50%",transform:"translateY(-50%)",color:"white",pointerEvents:"none"}})]})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Part Name *"}),e.jsx("input",{type:"text",style:l,placeholder:"Ex: Battery, Tyre",required:!0,value:r.partName,onChange:t=>d({...r,partName:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Brand Name *"}),e.jsx("input",{type:"text",style:l,placeholder:"Ex: Exide, Apollo",required:!0,value:r.brandName,onChange:t=>d({...r,brandName:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Invoice Number *"}),e.jsx("input",{type:"text",style:l,placeholder:"INV-123...",required:!0,value:r.invoiceNumber,onChange:t=>d({...r,invoiceNumber:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Purchase Date"}),e.jsx("input",{type:"date",style:l,value:r.purchaseDate,onChange:t=>d({...r,purchaseDate:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Warranty Period"}),e.jsx("input",{type:"text",style:l,placeholder:"Ex: 12 Months, 2 Years",value:r.warrantyPeriod,onChange:t=>d({...r,warrantyPeriod:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Warranty Start"}),e.jsx("input",{type:"date",style:l,value:r.warrantyStartDate,onChange:t=>d({...r,warrantyStartDate:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Warranty End *"}),e.jsx("input",{type:"date",style:l,required:!0,value:r.warrantyEndDate,onChange:t=>d({...r,warrantyEndDate:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Supplier Name"}),e.jsx("input",{type:"text",style:l,placeholder:"Shop/Vendor name",value:r.supplierName,onChange:t=>d({...r,supplierName:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Cost (₹)"}),e.jsx("input",{type:"number",style:l,placeholder:"0.00",value:r.cost,onChange:t=>d({...r,cost:t.target.value})})]})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Warranty Image"}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"2px dashed rgba(255,255,255,0.1)",borderRadius:"16px",padding:C?"5px":"20px",textAlign:"center",position:"relative",cursor:"pointer",overflow:"hidden"},children:[e.jsx("input",{type:"file",onChange:t=>{W(t.target.files[0]),t.target.files[0]&&A(URL.createObjectURL(t.target.files[0]))},style:{position:"absolute",inset:0,opacity:0,cursor:"pointer",zIndex:10,width:"100%",height:"100%"}}),C?e.jsxs("div",{style:{position:"relative",width:"100%",height:"150px",borderRadius:"12px",overflow:"hidden"},children:[e.jsx("img",{src:C,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s"},onMouseEnter:t=>t.currentTarget.style.opacity=1,onMouseLeave:t=>t.currentTarget.style.opacity=0,children:e.jsxs("div",{style:{color:"white",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(F,{size:20})," Change Image"]})})]}):e.jsxs("div",{children:[e.jsx(F,{size:24,style:{opacity:.5,marginBottom:"10px"}}),e.jsx("p",{style:{margin:0,fontWeight:"600",color:"white",fontSize:"14px"},children:"Click to upload"})]})]})]}),e.jsx("button",{type:"submit",disabled:m,style:{height:"56px",background:"linear-gradient(135deg, #fbbf24, #d97706)",borderRadius:"16px",fontWeight:"900",fontSize:"16px",color:"black",border:"none",boxShadow:"0 12px 24px -8px rgba(251, 191, 36, 0.5)",cursor:m?"not-allowed":"pointer",transition:"all 0.3s ease",textTransform:"uppercase",letterSpacing:"1px"},children:m?"Saving...":"Save Warranty"})]})]})})}),e.jsx(P,{children:G&&o&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:2e3,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:e.jsxs(L.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"glass-card",style:{maxWidth:"650px",width:"100%",padding:"30px",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.15)",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px"},children:[e.jsxs("div",{children:[e.jsxs("h2",{style:{color:"white",margin:0,fontSize:"20px",fontWeight:"800"},children:[o.partName," Warranty"]}),e.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"14px",margin:"4px 0 0 0"},children:["Vehicle: ",e.jsx("span",{style:{color:"#38bdf8"},children:o.vehicle?.carNumber})]})]}),e.jsx("button",{onClick:()=>N(!1),style:{background:"rgba(255,255,255,0.05)",border:"none",color:"white",cursor:"pointer",width:"36px",height:"36px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(O,{size:20})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[o.warrantyCardImage&&e.jsx("div",{style:{gridColumn:"1/-1",marginBottom:"10px"},children:e.jsx("img",{src:o.warrantyCardImage,style:{width:"100%",height:"250px",objectFit:"contain",borderRadius:"16px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)"}})}),e.jsxs("div",{className:"glass-card",style:{padding:"20px",background:"rgba(255,255,255,0.02)"},children:[e.jsx("label",{style:s,children:"PURCHASE INFO"}),e.jsxs("div",{style:{color:"white",fontWeight:"600",marginBottom:"8px"},children:["Date: ",new Date(o.purchaseDate).toLocaleDateString()]}),e.jsxs("div",{style:{color:"white",fontWeight:"600"},children:["Supplier: ",o.supplierName]})]}),e.jsxs("div",{className:"glass-card",style:{padding:"20px",background:"rgba(255,255,255,0.02)"},children:[e.jsx("label",{style:s,children:"WARRANTY STATUS"}),e.jsx("div",{style:{color:E(o.warrantyEndDate)?"#f43f5e":"#10b981",fontWeight:"800",fontSize:"18px",marginBottom:"5px"},children:o.status}),e.jsxs("div",{style:{fontSize:"13px",color:"white"},children:["Ends: ",new Date(o.warrantyEndDate).toLocaleDateString()]})]})]}),e.jsxs("form",{onSubmit:Z,style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"25px"},children:[e.jsx("h3",{style:{color:"white",fontSize:"16px",fontWeight:"800",marginBottom:"20px"},children:"Warranty Claim Status"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:[e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Claim Date"}),e.jsx("input",{type:"date",style:l,value:c.claimDate,onChange:t=>u({...c,claimDate:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{style:s,children:"Claim Status"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("select",{style:l,value:c.claimStatus,onChange:t=>u({...c,claimStatus:t.target.value}),children:[e.jsx("option",{value:"Pending",style:{background:"#1e293b"},children:"Pending"}),e.jsx("option",{value:"Approved",style:{background:"#1e293b"},children:"Approved"}),e.jsx("option",{value:"Rejected",style:{background:"#1e293b"},children:"Rejected"})]}),e.jsx(f,{size:16,style:{position:"absolute",right:"15px",top:"50%",transform:"translateY(-50%)",color:"white",pointerEvents:"none"}})]})]}),e.jsxs("div",{className:"input-field-group",style:{gridColumn:"1/-1"},children:[e.jsx("label",{style:s,children:"Replacement Date (if any)"}),e.jsx("input",{type:"date",style:l,value:c.replacementDate,onChange:t=>u({...c,replacementDate:t.target.value})})]}),e.jsxs("div",{className:"input-field-group",style:{gridColumn:"1/-1"},children:[e.jsx("label",{style:s,children:"Remarks"}),e.jsx("textarea",{style:{...l,minHeight:"100px",height:"auto",paddingTop:"15px"},value:c.remarks,onChange:t=>u({...c,remarks:t.target.value}),placeholder:"Add claim details or why it was rejected..."})]})]}),e.jsx("button",{type:"submit",disabled:m,className:"btn-primary",style:{width:"100%",marginTop:"25px",height:"52px",fontWeight:"800"},children:"UPDATE CLAIM INFORMATION"})]})]})})})]})};export{ye as default};
