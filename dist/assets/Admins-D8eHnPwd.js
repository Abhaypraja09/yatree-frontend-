import{b as a,j as e,J as v,K as S,E as w,A as N,m as A}from"./vendor-C_ywCXHK.js";import{i as n}from"./index-BAdpW3fZ.js";import{S as I}from"./SEO-DTkoKjQj.js";const B=()=>{const[l,f]=a.useState([]),[C,o]=a.useState(!0),[y,r]=a.useState(!1),[d,c]=a.useState(""),[x,p]=a.useState(""),[u,h]=a.useState(""),[g,m]=a.useState("");a.useEffect(()=>{i()},[]);const i=async()=>{o(!0);try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:s}=await n.get("/api/admin/executives",{headers:{Authorization:`Bearer ${t.token}`}});f(s||[])}catch(t){console.error(t)}finally{o(!1)}},b=async t=>{t.preventDefault();try{const s=JSON.parse(localStorage.getItem("userInfo"));await n.post("/api/admin/executives",{name:d,mobile:x,username:u,password:g},{headers:{Authorization:`Bearer ${s.token}`}}),r(!1),c(""),p(""),h(""),m(""),i(),alert("Limited Admin (Executive) created successfully")}catch(s){alert(s.response?.data?.message||"Error creating user")}},j=async t=>{if(window.confirm("Are you sure you want to remove this admin access?"))try{const s=JSON.parse(localStorage.getItem("userInfo"));await n.delete(`/api/admin/executives/${t}`,{headers:{Authorization:`Bearer ${s.token}`}}),i()}catch(s){alert(s.response?.data?.message||"Error deleting user")}};return e.jsxs("div",{className:"container-fluid",style:{paddingBottom:"40px"},children:[e.jsx(I,{title:"Manage Admins",description:"Manage limited admin (Executive) access."}),e.jsxs("header",{className:"flex-resp",style:{justifyContent:"space-between",padding:"30px 0",marginBottom:"10px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#0ea5e9",boxShadow:"0 0 8px #0ea5e9"}}),e.jsx("span",{style:{fontSize:"10px",fontWeight:"800",color:"rgba(255,255,255,0.5)",letterSpacing:"1px",textTransform:"uppercase"},children:"Security & Access"})]}),e.jsxs("h1",{style:{color:"white",fontSize:"32px",fontWeight:"900",margin:0,letterSpacing:"-1px"},children:["Limited ",e.jsx("span",{className:"text-gradient-blue",children:"Admins"})]})]}),e.jsxs("button",{className:"btn-primary",onClick:()=>r(!0),style:{display:"flex",alignItems:"center",gap:"10px",height:"50px",padding:"0 25px",borderRadius:"12px",fontWeight:"800",cursor:"pointer"},children:[e.jsx(v,{size:20})," Create New Access"]})]}),e.jsx("div",{className:"glass-card",style:{padding:"0",overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"0"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("th",{style:{padding:"20px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"900",textTransform:"uppercase"},children:"User Name"}),e.jsx("th",{style:{padding:"20px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"900",textTransform:"uppercase"},children:"System ID"}),e.jsx("th",{style:{padding:"20px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"900",textTransform:"uppercase"},children:"Role"}),e.jsx("th",{style:{padding:"20px 25px",color:"var(--text-muted)",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",textAlign:"right"},children:"Actions"})]})}),e.jsx("tbody",{children:l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"50px",color:"var(--text-muted)"},children:"No limited admins found."})}):l.map(t=>e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.02)"},children:[e.jsx("td",{style:{padding:"20px 25px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"rgba(14, 165, 233, 0.1)",color:"#0ea5e9",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(S,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"white",fontWeight:"800"},children:t.name}),e.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:t.mobile})]})]})}),e.jsxs("td",{style:{padding:"20px 25px",color:"white",fontWeight:"600"},children:["@",t.username]}),e.jsx("td",{style:{padding:"20px 25px"},children:e.jsx("span",{style:{padding:"4px 10px",borderRadius:"6px",background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b",fontSize:"11px",fontWeight:"800"},children:"EXECUTIVE (LIMITED)"})}),e.jsx("td",{style:{padding:"20px 25px",textAlign:"right"},children:e.jsx("button",{onClick:()=>j(t._id),style:{background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer"},children:e.jsx(w,{size:18})})})]},t._id))})]})}),e.jsx(N,{children:y&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(10px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:e.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"glass-card",style:{width:"100%",maxWidth:"450px",padding:"30px",background:"#0f172a"},children:[e.jsx("h2",{style:{color:"white",marginBottom:"20px",fontWeight:"900"},children:"Create Limited Admin"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{className:"input-label",children:"Full Name"}),e.jsx("input",{className:"input-field",value:d,onChange:t=>c(t.target.value),required:!0,placeholder:"e.g. Rahul Singh"})]}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{className:"input-label",children:"Mobile Number"}),e.jsx("input",{className:"input-field",value:x,onChange:t=>p(t.target.value),required:!0,placeholder:"10-digit number"})]}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{className:"input-label",children:"System Username"}),e.jsx("input",{className:"input-field",value:u,onChange:t=>h(t.target.value),required:!0,placeholder:"e.g. rahul_admin"})]}),e.jsxs("div",{style:{marginBottom:"25px"},children:[e.jsx("label",{className:"input-label",children:"Password"}),e.jsx("input",{type:"password",className:"input-field",value:g,onChange:t=>m(t.target.value),required:!0,placeholder:"••••••••"})]}),e.jsxs("div",{style:{display:"flex",gap:"15px"},children:[e.jsx("button",{type:"button",onClick:()=>r(!1),style:{flex:1,padding:"12px",background:"rgba(255,255,255,0.05)",color:"white",borderRadius:"10px",border:"none"},children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",style:{flex:2,padding:"12px",borderRadius:"10px",border:"none",fontWeight:"800"},children:"Create Account"})]})]})]})})})]})};export{B as default};
