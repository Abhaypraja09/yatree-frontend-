const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/xlsx.min-yntsgx9w.js","assets/vendor-BGTqS4rJ.js","assets/excel-D720nv8R.js"])))=>i.map(i=>d[i]);
import{b as ae,i as j,_ as ie}from"./index-C6p1faUk.js";import{b as p,j as e,m as N,a0 as se,G as oe,c as E,E as B,y as F,A as le,X as ne}from"./vendor-BGTqS4rJ.js";import{S as de}from"./SEO-hYERGpzb.js";const ge=()=>{const{selectedCompany:h}=ae(),[x,$]=p.useState([]),[z,k]=p.useState(!0),[S,pe]=p.useState(""),[u,P]=p.useState("All"),[m,W]=p.useState("All"),v=()=>new Date().toISOString().split("T")[0],M=()=>{const t=new Date;return t.setDate(t.getDate()-180),t.toISOString().split("T")[0]},[w,V]=p.useState(M()),[T,q]=p.useState(v()),[H,A]=p.useState(!1),[y,C]=p.useState(!1),[I,D]=p.useState(null),[i,d]=p.useState({carNumber:"",model:"",property:"",dutyType:"",ownerName:"",dutyAmount:"",dropLocation:"",date:v()});p.useEffect(()=>{h&&L()},[h]);const L=async()=>{if(h?._id){k(!0);try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:a}=await j.get(`/api/admin/vehicles/${h._id}?usePagination=false&type=outside`,{headers:{Authorization:`Bearer ${t.token}`}});$(a.vehicles?.filter(n=>n.isOutsideCar)||[])}catch(t){console.error(t)}finally{k(!1)}}},X=t=>{P(t),W("All")},G=()=>{C(!1),D(null),d({carNumber:"",model:"",property:m!=="All"?m:"",dutyType:"",ownerName:u!=="All"?u:"",dutyAmount:"",dropLocation:"",date:v(),isDuplicateToday:!1}),A(!0)},J=t=>{const a=t.toUpperCase(),n=i.date||v(),s=`${a}#${n}`,o=x.find(r=>r.carNumber===s),l=x.find(r=>r.carNumber?.split("#")[0]===a);d(o?r=>({...r,carNumber:a,model:o.model||r.model,ownerName:o.ownerName||r.ownerName,dutyAmount:o.dutyAmount,isDuplicateToday:!0}):l?r=>({...r,carNumber:a,model:l.model||r.model,ownerName:l.ownerName||r.ownerName,isDuplicateToday:!1}):r=>({...r,carNumber:a,isDuplicateToday:!1}))},O=async t=>{if(window.confirm("Delete this outside car?"))try{await j.delete(`/api/admin/vehicles/${t}`,{headers:{Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}}),L()}catch{alert("Error deleting")}},U=async t=>{t.preventDefault();try{const a=JSON.parse(localStorage.getItem("userInfo"));if(!h?._id)return alert("Select a company first!");const n=`${i.carNumber}#${i.date}`,s=x.find(l=>l.carNumber===n);let o={carNumber:n,model:i.model,property:i.property,dutyType:i.dutyType||"",ownerName:i.ownerName,dutyAmount:Number(i.dutyAmount)||0,dropLocation:i.dropLocation||"",companyId:h._id,isOutsideCar:!0,status:"active",createdAt:new Date(i.date)};if(!y&&s)o={...o,dutyAmount:Number(s.dutyAmount)+(Number(i.dutyAmount)||0),dutyType:s.dutyType?`${s.dutyType} + ${i.dutyType}`:i.dutyType,dropLocation:s.dropLocation?`${s.dropLocation} | ${i.dropLocation}`:i.dropLocation},await j.put(`/api/admin/vehicles/${s._id}`,o,{headers:{Authorization:`Bearer ${a.token}`}});else if(y&&I)await j.put(`/api/admin/vehicles/${I}`,o,{headers:{Authorization:`Bearer ${a.token}`}});else{const l=new FormData;Object.keys(o).forEach(r=>l.append(r,o[r])),l.append("permitType","Contract"),l.append("carType","Other"),await j.post("/api/admin/vehicles",l,{headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"multipart/form-data"}})}A(!1),C(!1),D(null),d({...i,carNumber:"",dutyAmount:"",dropLocation:"",dutyType:""}),L()}catch(a){alert(a.response?.data?.message||"Error processing duty")}},R=t=>{d({carNumber:t.carNumber?.split("#")[0]||"",model:t.model,property:t.property||"",dutyType:t.dutyType,ownerName:t.ownerName,dutyAmount:t.dutyAmount,dropLocation:t.dropLocation,date:t.carNumber?.split("#")[1]||new Date(t.createdAt).toISOString().split("T")[0]}),D(t._id),C(!0),A(!0)},g=x.filter(t=>{const n=(t.carNumber?.split("#")[0]||"").toLowerCase().includes(S.toLowerCase())||t.model?.toLowerCase().includes(S.toLowerCase())||t.ownerName?.toLowerCase().includes(S.toLowerCase())||t.property?.toLowerCase().includes(S.toLowerCase()),s=u==="All"||t.ownerName===u,o=m==="All"||t.property===m,l=t.carNumber?.split("#")[1];if(!l)return!1;const r=l>=w&&l<=T;return n&&s&&o&&r}),Y=g.reduce((t,a)=>t+(Number(a.dutyAmount)||0),0),K=g.reduce((t,a)=>t+(a.dutyType?.split(" + ").length||0),0),Q=[...new Set(x.map(t=>t.ownerName).filter(Boolean))].sort(),Z=[...new Set(x.filter(t=>u==="All"||t.ownerName===u).map(t=>t.property).filter(Boolean))].sort(),ee=[...new Set(x.map(t=>t.carNumber?.split("#")[0]).filter(Boolean))],te=[...new Set(x.map(t=>t.dutyType).filter(Boolean))],re=[...new Set(x.map(t=>t.dropLocation).filter(Boolean))],_=t=>new Date(t).toLocaleDateString("en-IN",{day:"numeric",month:"short"});return e.jsxs("div",{className:"container-fluid",style:{paddingBottom:"60px"},children:[e.jsx(de,{title:"Outside Fleet Command",description:"Manage external vehicles and freelancer drivers for specific duties."}),e.jsxs("header",{style:{padding:"30px 0",borderBottom:"1px solid rgba(255,255,255,0.05)",marginBottom:"30px"},children:[e.jsxs("div",{className:"flex-resp",style:{justifyContent:"space-between",alignItems:"flex-start",gap:"25px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#6366f1",boxShadow:"0 0 10px #6366f1"}}),e.jsx("span",{style:{fontSize:"11px",fontWeight:"900",color:"rgba(255,255,255,0.4)",letterSpacing:"2px",textTransform:"uppercase"},children:"External Asset Logistics"})]}),e.jsxs("h1",{className:"resp-title",style:{margin:0,fontWeight:"900",letterSpacing:"-1.5px"},children:["Outside ",e.jsx("span",{style:{color:"var(--secondary)"},children:"Fleet"})]}),e.jsxs("p",{className:"resp-subtitle",style:{marginTop:"8px"},children:["Settling records from ",e.jsx("b",{style:{color:"white"},children:_(w)})," to ",e.jsx("b",{style:{color:"white"},children:_(T)})]})]}),e.jsxs("div",{className:"flex-resp",style:{gap:"15px"},children:[e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card",style:{padding:"15px 25px",background:"rgba(99, 102, 241, 0.05)",border:"1px solid rgba(99, 102, 241, 0.1)",display:"flex",flexDirection:"column",minWidth:"140px"},children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"800",color:"#6366f1",letterSpacing:"1px",textTransform:"uppercase"},children:"Range Payable"}),e.jsxs("span",{style:{color:"white",fontSize:"20px",fontWeight:"900",letterSpacing:"-0.5px"},children:["₹ ",Y.toLocaleString()]})]}),e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card",style:{padding:"15px 25px",background:"rgba(16, 185, 129, 0.05)",border:"1px solid rgba(16, 185, 129, 0.1)",display:"flex",flexDirection:"column",minWidth:"140px"},children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"800",color:"#10b981",letterSpacing:"1px",textTransform:"uppercase"},children:"Duties Logged"}),e.jsxs("span",{style:{color:"white",fontSize:"20px",fontWeight:"900",letterSpacing:"-0.5px"},children:[K," Logs"]})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"15px",marginTop:"30px"},children:[e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",children:"From Date"}),e.jsx("input",{type:"date",className:"input-field",value:w,onChange:t=>V(t.target.value),style:{height:"52px"}})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",children:"To Date"}),e.jsx("input",{type:"date",className:"input-field",value:T,onChange:t=>q(t.target.value),style:{height:"52px"}})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",children:"Owner Hub"}),e.jsxs("select",{value:u,onChange:t=>X(t.target.value),className:"input-field",style:{height:"52px",appearance:"auto",border:u==="All"?"1px dashed rgba(255,255,255,0.2)":"1px solid var(--primary)"},children:[e.jsx("option",{value:"All",children:"All Owners"}),Q.map(t=>e.jsx("option",{value:t,style:{background:"#0f172a"},children:t},t))]})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",children:"Property Hub"}),e.jsxs("select",{value:m,onChange:t=>W(t.target.value),className:"input-field",style:{height:"52px",appearance:"auto",border:m==="All"?"1px dashed rgba(255,255,255,0.2)":"1px solid var(--primary)"},children:[e.jsx("option",{value:"All",children:"All Properties"}),Z.map(t=>e.jsx("option",{value:t,style:{background:"#0f172a"},children:t},t))]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",gap:"10px",paddingBottom:"2px",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:async()=>{const t=await ie(()=>import("./xlsx.min-yntsgx9w.js").then(r=>r.x),__vite__mapDeps([0,1,2])),a=g.map(r=>({Property:r.property||"",Owner:r.ownerName||"",Date:new Date(r.createdAt).toLocaleDateString("en-IN"),"Vehicle Details":`${r.model||""} - ${r.carNumber?.split("#")[0]||""}`,"Drop Location":r.dropLocation?.replace(/ \| /g," ➜ ")||"","Service Type":r.dutyType||"",Amount:Number(r.dutyAmount)||0})),n=a.reduce((r,f)=>r+f.Amount,0);a.push({Property:"",Owner:"",Date:"","Vehicle Details":"","Drop Location":"","Service Type":"TOTAL PAYABLE",Amount:n});const s=t.utils.json_to_sheet(a),o=t.utils.decode_range(s["!ref"]);for(let r=o.s.c;r<=o.e.c;++r){let f=10;for(let b=o.s.r;b<=o.e.r;++b){const c=s[t.utils.encode_cell({r:b,c:r})];c&&(c.s={alignment:{horizontal:"center",vertical:"center"},font:{name:"Arial",sz:10}},b===0&&(c.s.font.bold=!0,c.s.fill={fgColor:{rgb:"4F46E5"}},c.s.font.color={rgb:"FFFFFF"}),r===6&&(c.s.alignment.horizontal="right"),b===o.e.r&&(c.s.font.bold=!0,c.s.fill={fgColor:{rgb:"E0E7FF"}}),c.v&&(f=Math.max(f,c.v.toString().length+5)))}s["!cols"]||(s["!cols"]=[]),s["!cols"][r]={wch:f}}const l=t.utils.book_new();t.utils.book_append_sheet(l,s,"Outside Fleet Log"),t.writeFile(l,`Outside_Fleet_Report_${w}_to_${T}.xlsx`)},className:"glass-card-hover-effect",style:{height:"52px",padding:"0 20px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",color:"#10b981",fontWeight:"800",display:"flex",alignItems:"center",gap:"8px",borderRadius:"12px"},children:[e.jsx(se,{size:20})," Excel"]}),e.jsxs("button",{onClick:G,className:"glass-card-hover-effect",style:{height:"52px",padding:"0 25px",background:"linear-gradient(135deg, var(--secondary), var(--primary))",color:"white",border:"none",borderRadius:"12px",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 14px rgba(99, 102, 241, 0.4)",fontWeight:"800",fontSize:"14px",letterSpacing:"0.5px"},children:[e.jsx(oe,{size:20})," Add Entry"]})]})]})]}),e.jsx("div",{className:"glass-card hide-mobile",style:{padding:"0",overflowX:"auto",border:"1px solid rgba(255,255,255,0.05)",background:"transparent"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"0 12px",padding:"0 10px",minWidth:"900px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{textAlign:"left"},children:[e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Timeline"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Vehicle Identification"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Service Detail"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Entities"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Settlement"}),e.jsx("th",{style:{padding:"10px 25px",color:"var(--text-muted)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px",textAlign:"right"},children:"Actions"})]})}),e.jsx("tbody",{children:z?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",style:{textAlign:"center",padding:"100px 0"},children:[e.jsx("div",{className:"spinner",style:{margin:"0 auto 20px"}}),e.jsx("p",{style:{color:"var(--text-muted)",fontWeight:"700"},children:"FETCHING LOGS..."})]})}):g.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",style:{textAlign:"center",padding:"120px 0"},children:[e.jsx(E,{size:60,style:{opacity:.1,color:"var(--secondary)",marginBottom:"20px"}}),e.jsx("h3",{style:{color:"white",fontWeight:"800"},children:"No Duties Logged"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"The fleet is currently idle for the selected filters."})]})}):g.map((t,a)=>e.jsxs(N.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:a*.03},className:"glass-card-hover-effect",style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"16px"},children:[e.jsxs("td",{style:{padding:"20px 25px",borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px"},children:[e.jsx("div",{style:{color:"white",fontWeight:"900",fontSize:"16px",letterSpacing:"-0.5px"},children:new Date(t.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),e.jsxs("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",fontWeight:"700"},children:["Entry: ",new Date(t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("td",{style:{padding:"20px 25px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{fontWeight:"900",fontSize:"18px",color:"white",letterSpacing:"0.5px"},children:t.carNumber?.split("#")[0]}),t.dutyType?.includes(" + ")&&e.jsx("span",{style:{fontSize:"9px",background:"rgba(99, 102, 241, 0.2)",color:"#a5b4fc",padding:"3px 8px",borderRadius:"6px",fontWeight:"900",border:"1px solid rgba(165, 180, 252, 0.2)"},children:"COMBINED"})]}),e.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)",fontWeight:"600"},children:t.model})]}),e.jsx("td",{style:{padding:"20px 25px"},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.dutyType?.split(" + ").map((n,s)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--secondary)"}}),e.jsx("span",{style:{fontSize:"12px",color:"white",fontWeight:"700"},children:n}),t.dropLocation?.split(" | ")[s]&&e.jsxs("span",{style:{fontSize:"11px",color:"rgba(255,255,255,0.3)"},children:["➜ ",t.dropLocation.split(" | ")[s]]})]},s))})}),e.jsxs("td",{style:{padding:"20px 25px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"800",color:"white"},children:t.property||"N/A"}),e.jsxs("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.3)",fontWeight:"700"},children:["Owner: ",t.ownerName]})]}),e.jsx("td",{style:{padding:"20px 25px"},children:e.jsx("div",{style:{display:"inline-flex",padding:"10px 18px",background:"rgba(16, 185, 129, 0.05)",borderRadius:"12px",border:"1px solid rgba(16, 185, 129, 0.1)"},children:e.jsxs("span",{style:{color:"#10b981",fontWeight:"900",fontSize:"18px"},children:["₹",t.dutyAmount?.toLocaleString()]})})}),e.jsx("td",{style:{padding:"20px 25px",textAlign:"right",borderTopRightRadius:"16px",borderBottomRightRadius:"16px"},children:e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:()=>R(t),style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"10px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsx(B,{size:16})}),e.jsx("button",{onClick:()=>O(t._id),style:{background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",padding:"10px",borderRadius:"12px",border:"1px solid rgba(244, 63, 94, 0.1)"},children:e.jsx(F,{size:16})})]})})]},t._id))})]})}),e.jsx("div",{className:"show-mobile",children:z?e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:e.jsx("div",{className:"spinner"})}):g.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)",background:"rgba(255,255,255,0.02)",borderRadius:"16px"},children:[e.jsx(E,{size:40,style:{opacity:.2,marginBottom:"10px"}}),e.jsx("p",{children:"No outside fleet records found."})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:g.map(t=>e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card",style:{padding:"16px",background:"rgba(30, 41, 59, 0.4)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"white",fontWeight:"900",fontSize:"18px",letterSpacing:"0.5px"},children:t.carNumber?.split("#")[0]}),e.jsx("div",{style:{fontSize:"12px",color:"var(--text-muted)",fontWeight:"600"},children:t.model})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{color:"#10b981",fontWeight:"900",fontSize:"18px"},children:["₹",t.dutyAmount?.toLocaleString()]}),e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)"},children:"Payable"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"12px",padding:"10px",background:"rgba(0,0,0,0.2)",borderRadius:"10px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"800"},children:"Property"}),e.jsx("div",{style:{color:"white",fontSize:"13px",fontWeight:"700"},children:t.property||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"800"},children:"Owner"}),e.jsx("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"13px",fontWeight:"600"},children:t.ownerName})]})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"800",marginBottom:"4px"},children:"Service Details"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:t.dutyType?.split(" + ").map((a,n)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px"},children:[e.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:"var(--secondary)"}}),e.jsx("span",{style:{color:"white"},children:a}),t.dropLocation?.split(" | ")[n]&&e.jsxs("span",{style:{color:"rgba(255,255,255,0.4)"},children:["➜ ",t.dropLocation.split(" | ")[n]]})]},n))})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"10px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{fontSize:"11px",color:"var(--text-muted)",fontWeight:"600"},children:[new Date(t.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})," • ",new Date(t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>R(t),style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"8px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsx(B,{size:14})}),e.jsx("button",{onClick:()=>O(t._id),style:{background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",padding:"8px",borderRadius:"8px",border:"1px solid rgba(244, 63, 94, 0.1)"},children:e.jsx(F,{size:14})})]})]})]},t._id))})}),e.jsx(le,{children:H&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(16px)",zIndex:1050,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:e.jsxs(N.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"glass-card",style:{width:"100%",maxWidth:"600px",padding:"0",border:"1px solid rgba(255,255,255,0.1)",background:"#0f172a",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"30px",background:"linear-gradient(to right, #1e293b, #0f172a)",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{color:"white",fontSize:"20px",margin:0,fontWeight:"800"},children:y?"Update Voucher":"New Duty Entry"}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:"12px",marginTop:"4px",margin:0},children:"Log details for outside vehicle & driver"})]}),e.jsx("button",{onClick:()=>A(!1),style:{background:"rgba(255,255,255,0.05)",color:"white",borderRadius:"50%",padding:"10px",border:"none",cursor:"pointer"},children:e.jsx(ne,{size:18})})]}),e.jsxs("form",{onSubmit:U,style:{padding:"30px",display:"grid",gap:"20px"},children:[e.jsxs("div",{className:"form-grid-2",children:[e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",style:{color:"#94a3b8"},children:"Vehicle Number"}),e.jsx("input",{type:"text",list:"carCodes",className:"input-field",required:!0,disabled:y,value:i.carNumber,onChange:t=>J(t.target.value),placeholder:"DL-01...",style:{background:"rgba(255,255,255,0.02)"}}),e.jsx("datalist",{id:"carCodes",children:ee.map((t,a)=>e.jsx("option",{value:t},a))})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",style:{color:"#94a3b8"},children:"Model"}),e.jsx("input",{type:"text",className:"input-field",required:!0,value:i.model,onChange:t=>d({...i,model:t.target.value}),placeholder:"e.g. Innova",style:{background:"rgba(255,255,255,0.02)"}})]})]}),e.jsxs("div",{className:"form-grid-2",children:[e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",style:{color:"#94a3b8"},children:"Proprietor (Owner)"}),e.jsx("input",{type:"text",className:"input-field",required:!0,value:i.ownerName,onChange:t=>d({...i,ownerName:t.target.value}),placeholder:"Company Name",style:{background:"rgba(255,255,255,0.02)"}})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",style:{color:"#94a3b8"},children:"Property (Client)"}),e.jsx("input",{type:"text",className:"input-field",required:!0,value:i.property,onChange:t=>d({...i,property:t.target.value}),placeholder:"e.g. Hotel Taj",style:{background:"rgba(255,255,255,0.02)"}})]})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",style:{color:"#94a3b8"},children:"Duty Date"}),e.jsx("input",{type:"date",className:"input-field",required:!0,value:i.date,onChange:t=>d({...i,date:t.target.value}),style:{background:"rgba(255,255,255,0.02)"}})]}),e.jsxs("div",{style:{padding:"20px",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.03)",display:"grid",gap:"20px"},children:[e.jsxs("div",{className:"form-grid-2",children:[e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",style:{color:"#94a3b8"},children:"Service Type"}),e.jsx("input",{type:"text",list:"serviceTypes",className:"input-field",value:i.dutyType,onChange:t=>d({...i,dutyType:t.target.value}),placeholder:"e.g. Airport Drop"}),e.jsx("datalist",{id:"serviceTypes",children:te.map((t,a)=>e.jsx("option",{value:t},a))})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",style:{color:"#10b981",fontWeight:"700"},children:"Settlement Amount (₹)"}),e.jsx("input",{type:"number",className:"input-field",required:!0,value:i.dutyAmount,onChange:t=>d({...i,dutyAmount:t.target.value}),style:{fontWeight:"800",color:"var(--secondary)",fontSize:"18px"},placeholder:"0.00"})]})]}),e.jsxs("div",{className:"input-field-group",children:[e.jsx("label",{className:"input-label",style:{color:"#94a3b8"},children:"Drop Location / Terminal"}),e.jsx("input",{type:"text",list:"points",className:"input-field",value:i.dropLocation,onChange:t=>d({...i,dropLocation:t.target.value}),placeholder:"Specific location detail..."}),e.jsx("datalist",{id:"points",children:re.map((t,a)=>e.jsx("option",{value:t},a))})]})]}),e.jsx("button",{type:"submit",className:"glass-card-hover-effect",style:{marginTop:"10px",height:"60px",borderRadius:"16px",fontSize:"16px",fontWeight:"800",letterSpacing:"1px",background:"linear-gradient(135deg, var(--primary), #4f46e5)",color:"white",border:"none",cursor:"pointer",boxShadow:"0 10px 30px rgba(79, 70, 229, 0.3)"},children:y?"UPDATE RECORD":"CONFIRM ENTRY"})]})]})})})]})};export{ge as default};
